/*! Copyright (c) Epic Systems Corporation 2017 */
(function WP$Common$ExpandableListViewBinder$definition(){var g="aria-expanded",f="collapsed",e="expanded",b=null,d=".expandable_list_wrapper",c="keypress",a="click";$$WP.Common=$$WP.Common||{};var h=function WP$Common$ExpandableListViewBinder(g,j,i,f,e,h){var b=this;b.WP$Common$ViewBinder([a,c],[g]);b.proxify("_collapseList","_isModelExpanded");b._statePropertyName=g;b._expanded=j;b._collapsed=i;b._shouldCollapseOnExternalClick=f;b._isCollapseOnDoubleClickDisabled=h;if(f){e=e||$afe.select("#wrap");e.addClass("expandable_list_wrapper");$afe.select("body").on(a,d,b._collapseList)}};h.prototype={_statePropertyName:b,_expanded:b,_collapsed:b,_shouldCollapseOnExternalClick:b,_isCollapseOnDoubleClickDisabled:b,dispose:function WP$Common$ExpandableListViewBinder$dispose(){this._shouldCollapseOnExternalClick&&$afe.select("body").off(a,d,this._collapseList)},_collapseList:function WP$Common$ExpandableListViewBinder$_collapseList(d){var a=this,b,c;b=a.getBoundModels().filter(a._isModelExpanded);if(b.length>0&&!$.contains(a._$bindingRoot.get(0),d.target))for(c=0;c<b.length;c++)b[c].setProperty(a._statePropertyName,a._collapsed)},_isModelExpanded:function WP$Common$ExpandableListViewBinder$_isModelExpanded(a){return a[this._statePropertyName]===this._expanded},_onPropertyChanged:function WP$Common$ExpandableListViewBinder$_onPropertyChanged(c,b){var a;a=this.getBoundElements(c);if(b.from===this._expanded)i(a);else b.to===this._expanded&&j(a);matchWrapHeight()},_onSyncModelToDOM:function WP$Common$ExpandableListViewBinder$_onSyncModelToDOM(b){var a;a=this.getBoundElements(b);if(b[this._statePropertyName]===this._expanded)j(a);else i(a);matchWrapHeight()},_onDomEvent:function WP$Common$ExpandableListViewBinder$_onDomEvent(e,g,b){var a=this,d,f;if(b.type===c&&b.keyCode!==13)return;d=g.find("[data-expandable-click-binder]");if(d.length>0&&$afe.jq(b.target).closest(d).length===0)return;f=e[a._statePropertyName];if(f===a._expanded&&!a._isCollapseOnDoubleClickDisabled)e.setProperty(a._statePropertyName,a._collapsed);else if(f===a._collapsed)e.setProperty(a._statePropertyName,a._expanded);else return;b.preventDefault()}};var j=function WP$Common$ExpandableListViewBinder$s_expandBoundDOMElement(a){a.addClass(e).removeClass(f).safeAttr(g,"true");a.find(".cardlist").trigger("cardLoad")},i=function WP$Common$ExpandableListViewBinder$s_collapseBoundDOMElement(a){a.addClass(f).removeClass(e).safeAttr(g,"false")};$$WP.Common.ExpandableListViewBinder=h;h.extend($$WP.Common.ViewBinder,"WP$Common$ExpandableListViewBinder")})();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function UnitTests$Common$ExpandableListViewBinder(){var a;a=$$WP.Debug.UnitTest.assert})