(function(){var b=".submenu",s=".menuitem-content:visible",f="-ariasearchresultstotal",h="menu-shieldopen",c="aria-expanded",l="menu-rootopen",k="scrollDisabled",a="margin-top",e="body",v="menu",o="menu-open",d="-searchbar",g="-searchresultstotal",nt="-searchlist",y="-list",p="-searchemptybutton",u=".menuitem-content",i="keydown",tt="-responsiveclosebutton",r="click",n="#",t=null,it=$$WP.Controllers.Controller,rt=769,w=function(n,t,i,r){var u=this;u.$root=n;u.callbackFunction=t;u.template=$$WP.Templates.Navigation.Menu;u.searchTemplate=$$WP.Templates.Navigation.MenuSearch;u.proxify("_onMenuLoaded","_toggleMenu","_onMenuButtonKeydown","_doSearch","__afterHideMenuShield","__setFocusOnMenuOpen","_onSearchEmptyButtonClicked");u.MenuName=r;$.get({url:makeLink(i),success:u._onMenuLoaded})},ut={$root:t,$menuRoot:t,$searchRoot:t,$searchResultsRoot:t,$searchEmptyButton:t,$menuShield:t,$menuSearchBar:t,$menuContainer:t,$menuButton:t,ariaSearchResultsTimer:t,menu:t,template:t,searchTemplate:t,callbackFunction:t,eventListenerFunctionProxy:t,_onMenuLoaded:function(n){var t=this,r,f,u,i;if(t.menu=new $$WP.Navigation.Models.Menu(n),t.menu.MenuName=t.MenuName,t._render(),typeof t.callbackFunction=="function"){if(r={},r.ButtonDisplayName=t.menu.MenuDisplayName,f=[],t.menu.Shortcuts&&t.menu.Shortcuts.length>0)for(u=0;u<t.menu.Shortcuts.length;u++)i=t.menu.Shortcuts[u],f.push({Id:i.Id,Name:i.Name,URL:i.Link,Icon:i.Icon,DataAttributes:i.DataAttributes});r.Shortcuts=f;t.callbackFunction(r)}},_render:function(){var t=this;$afe.select(n+t.MenuName+"Wrapper").safeAppend($afe.renderTemplate(t.template,t.menu,{}));$afe.select(n+t.MenuName+"-closebutton").on(r,t._toggleMenu);$afe.select(n+t.MenuName+tt).on(r,t._toggleMenu);t.$root.on(r,t._toggleMenu);t.$root.on(i,t._onMenuButtonKeydown);$afe.select("."+t.MenuName+u).on(r,t._toggleMenu);t.$searchEmptyButton=$afe.select(n+t.MenuName+p);t.$searchEmptyButton.on(r,t._onSearchEmptyButtonClicked);t.$menuRoot=$afe.select(n+t.MenuName+y);t.$searchRoot=$afe.select(n+t.MenuName+nt);t.$searchResultsRoot=$afe.select(n+t.MenuName+g);t.$menuShield=$afe.select(n+t.MenuName+"-shield");t.$menuShield.on(r,t._toggleMenu);t.$menuSearchBar=$afe.select(n+t.MenuName+d);t.$menuSearchBar.on("input",t._doSearch);t.$menuContainer=$afe.select(n+t.MenuName+"-container");t.$menuButton=$afe.select(n+t.MenuName)},_onMenuButtonKeydown:function(n){switch(n.keyCode){case 32:event.preventDefault();this._toggleMenu();break;case 13:event.preventDefault();this._toggleMenu()}},_toggleMenu:function(){this.$menuContainer.hasClass(o)?this._closeMenu():this._openMenu()},_openMenu:function(){var n=this;n.eventListenerFunctionProxy=$.proxy(n._handleMenuKeydown,n);n._preOpenMenu();n.MenuName===v&&($afe.select(e).css(a,-$$WPUtil.getScrollTop()),$afe.select(e).addClass(k),n.__setAriaHiddenForPage(!0));n.$menuContainer.show().addClass(o);n.$menuButton.addClass(l);n.$menuButton.safeAttr(c,"true");n.$menuShield.show().addClass(h);n.$menuContainer.on(i,n.eventListenerFunctionProxy);n.$menuButton.on(i,n.eventListenerFunctionProxy);setTimeout(n.__setFocusOnMenuOpen,0)},__setFocusOnMenuOpen:function(){var t=this,i=$afe.select(n+t.MenuName+"-responsiveclosebutton:visible");i.length===0&&(i=window.outerWidth<rt&&t.MenuName!=v?t.$menuButton:t.$menuSearchBar);i.focus()},_closeMenu:function(){var n=this;clearTimeout(n.ariaSearchResultsTimer);n.$menuContainer.removeClass(o).off(i,n.eventListenerFunctionProxy);n.$menuShield.removeClass(h);n.$menuButton.removeClass(l).off(i,n.eventListenerFunctionProxy).safeAttr(c,"false");setTimeout(n.__afterHideMenuShield,100)},_preOpenMenu:function(){var r=".menu-rootopen",u=$afe.select(r)[0],t;u!==undefined&&(t=n+u.id,clearTimeout(this.ariaSearchResultsTimer),$afe.select(".menu-button").off(i,this.eventListenerFunctionProxy),$afe.select(".menu-container").off(i,this.eventListenerFunctionProxy),$afe.select(".menu-open").hide().removeClass(o),$afe.select(".menu-shieldopen").hide().removeClass(h),$afe.select(r).removeClass(l).safeAttr(c,"false"),$afe.select(t+y).scrollTop(0),$afe.select(t+d).val(""),$afe.select(t+g).empty(),$afe.select(t+f).empty(),$afe.select(t+p).hide(),$afe.select(t+nt).hide(),$afe.select(t+y).show())},__afterHideMenuShield:function(){var n=this,t=$afe.select(e),i=-parseInt(t.css(a));$afe.select(e).removeClass(k);t.css(a,"");$$WPUtil.setScrollTop(i);$afe.select(".lightbox_overlay:visible").length===0&&(n.MenuName===v&&n.__setAriaHiddenForPage(!1),n.$root.focus());n.$menuRoot.scrollTop(0);n.$menuSearchBar.val("");n._clearSearch();n.$menuContainer.hide();n.$menuShield.hide()},_handleMenuKeydown:function(n){var i="menu-searchbar",t=this;switch(n.keyCode){case 8:n.target.tagName!=="INPUT"&&n.preventDefault();break;case 9:t.__handleMenuTab(n);break;case 27:t._closeMenu();break;case 38:n.preventDefault();t.__handleMenuUpArrow(n.target);break;case 40:n.preventDefault();t.__handleMenuDownArrow(n.target);break;case 36:n.target.id!==i&&$afe.select(s).first().focus();break;case 35:n.target.id!==i&&$afe.select(s).last().focus()}},__handleMenuTab:function(t){var r=n+this.MenuName+"-container ",u=$afe.select(r+"button:not([disabled]), "+r+"input:not([disabled],[type='hidden']), "+r+"a[href]:visible, "+r+"div[tabindex=0]:visible"),i=u[0],f=u[u.length-1];$afe.jq(i).css("display")==="none"&&(i=i=$afe.select(n+this.MenuName+tt)[0],(i==="undefined"||$afe.jq(i).css("display")==="none")&&(i=this.$menuButton[0]));t.shiftKey?document.activeElement===i&&(f.focus(),t.preventDefault()):document.activeElement===f&&(i.focus(),t.preventDefault())},__handleMenuDownArrow:function(n){var t=$afe.jq(n),i;if(!t.hasClass("menuitem-content")){$afe.select(s).first().focus();return}if(i=t.parent().next().find(u),i.length!==0){i.focus();return}t.closest(b).next().find(u).first().focus()},__handleMenuUpArrow:function(n){var i=$afe.jq(n),t=i.parent().prev().find(u);if(t.length!==0){t.focus();return}if(t=i.closest(b).prev().find(u).last(),t.length!==0){t.focus();return}this.$menuSearchBar.focus()},__setAriaHiddenForPage:function(n){var t="aria-hidden";$afe.select("#header").safeAttr(t,n);$afe.select("#footer").safeAttr(t,n);$afe.select("#content").safeAttr(t,n)},_onSearchEmptyButtonClicked:function(){this.$menuSearchBar.val("").focus();this._clearSearch()},_doSearch:function(e){var o=this,s,h;if($afe.select(n+o.MenuName+f).empty(),clearTimeout(o.ariaSearchResultsTimer),s=e.target.value,s=s.toLowerCase().trim(),s===t||s===""){o._clearSearch();return}o.$menuRoot.hide();o.$searchRoot.empty();o.$searchResultsRoot.empty();h=new $$WP.Navigation.Models.SearchMenu(o.menu,s);o.__writeNumSearchMatches(h.TotalMatches);o.$searchRoot.safeAppend($afe.renderTemplate(o.searchTemplate,h,{}));o.$searchEmptyButton.show();o.$searchRoot.show();o.$menuContainer.off(i,o.eventListenerFunctionProxy);o.eventListenerFunctionProxy=$.proxy(o._handleMenuKeydown,o);o.$menuContainer.on(i,o.eventListenerFunctionProxy);$afe.select("."+o.MenuName+u).on(r,o._toggleMenu)},_clearSearch:function(){var t=this,r;$afe.select(n+t.MenuName+f).empty();clearTimeout(t.ariaSearchResultsTimer);t.$menuContainer.off(i,t.eventListenerFunctionProxy);t.$searchRoot.hide();t.$searchResultsRoot.empty();t.$menuRoot.show();r=$afe.select(n+t.MenuName+p);setTimeout(function(){r.hide()},50);t.eventListenerFunctionProxy=$.proxy(t._handleMenuKeydown,t);t.$menuContainer.on(i,t.eventListenerFunctionProxy)},__writeNumSearchMatches:function(t){var e="@MYCHART@NUMSEARCHMATCHES@",i="Navigation.Menu",u=this,r="",o;switch(t){case 0:r=$$WP.Strings.get("MenuSearchNoResults",i);break;case 1:r=$$WP.Strings.get("MenuSearchOneResult",i);break;default:$$WP.Strings.addMnemonic(e,t,!1,i);r=$$WP.Strings.get("MenuSearchMultipleResults",i);$$WP.Strings.removeMnemonic(e,i)}o=$afe.select(n+u.MenuName+f);u.ariaSearchResultsTimer=setTimeout(function(){o.text(r)},500);u.$searchResultsRoot.empty();u.$searchResultsRoot.text(r)}};w.prototype=ut;$$WP.Navigation=$$WP.Navigation||{};$$WP.Navigation.MenuController=w;w.extend(it,"WP$Navigation$MenuController")})(),function(){var s="margin-top",c="show-menu",r="aria-expanded",u=".defaultajaxoverlay",f="aria-hidden",h="#proxyMenuShield",t=!0,e="true",n=!1,i=null,o,l;$$WP.Utilities.guaranteeExistence($$WP,"ProxySwitch.Controllers");o=function(n){var t=this;t.$switchRoot=n;t.strings=$$WP.Strings.getNamespace("ProxySwitch.ProxySwitch.ProxySelector");t.lastCloseTime=0;t.photoTemplate=$$WP.Templates.ProxySwitch.PatientRoundIcon;t.switchTemplate=$$WP.Templates.ProxySwitch.DropDownProxySelector;$.ajax({url:makeLink("ProxySwitch"),success:t._onModelLoaded.bind(t),type:"GET",dataType:"JSON"});t.keyCode={TAB:9,RETURN:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};t.proxify("_showPhotoConfirmationCore")};l={$switchRoot:i,switchTemplate:i,modelData:i,photoTemplate:i,popupMenuController:n,dontReopen:n,$popupMenu:i,$menuButton:i,strings:i,lastCloseTime:0,uploadController:i,_onModelLoaded:function(n){this.modelData=new $$WP.ProxySwitch.Models.ProxySelectorViewModel(n);this._render()},_render:function(){var n=this;n._registerPartialTemplates();n.$switchRoot.safeAppend($afe.renderTemplate(n.switchTemplate,n.modelData,{}));n.$menuButton=n.$switchRoot.find("#proxyMenuButton");n.$menuButton.safeAttr("aria-haspopup",e);n.$popupMenu=$("#"+n.$menuButton.safeAttr("aria-controls"));$afe.jq(window).on("resize",$.proxy(n._onResize,n));n.$popupMenu.length===1&&(n.popupMenuController=new $$WP.ProxySwitch.Controllers.ProxyPopupMenuController(n.$popupMenu,n));n._onResize();n.modelData.ShowPhotoUpload===t&&n._createUploadController();n.$menuButton.on("click",n._handleClick.bind(n));$afe.select(h).on("click",n._handleClick.bind(n));n.$menuButton.on("keydown",n._handleKeydown.bind(n));WP.DOM.Browser.isIE&&$afe.select(".proxySelectorDropDownNameEllipsis").safeAttr(f,"false")},_onResize:function(){var n=this,t,i,r;if(n.modelData.ShowDropDown&&(t=n.$switchRoot.find("#proxySwitchNav"),n.$menuButton&&!(n.$menuButton.length<1)&&t&&!(t.length<1))){if(i=n.$menuButton[0].getBoundingClientRect().height,t.css("position")==="fixed"){r=n.$menuButton[0].getBoundingClientRect().top;t.css("top",r+i);return}t.css("top",i)}},_registerPartialTemplates:function(){Handlebars.registerPartial("roundPatientIcon",$$WP.Templates.ProxySwitch.PatientRoundIcon)},_createUploadController:function(){var i=this,r={},n;r.ViewTemplate=$$WP.Templates.ProxySwitch.DropDownProxySelector;n=new $$WP.Upload.Models.UploadConfiguration(r);n.ConfigUrl=makeLink("ProxySwitch/ProxyPhotoUpload/GetFileUploadConfiguration");n.UploadUrl=makeLink("ProxySwitch/ProxyPhotoUpload/UploadFile");n.ConfirmationViewModel=i.modelData.CurrentlySelected;n.MasterController=i;n.ConfirmFunction=i._findExifAndShowConfirmationPopup;n.RefreshViewOverride=i._updateFileSelector;n.onUploadSuccess=i._refreshPage;n.onUploadFail=i._hideLoading;n.NeedsRedirect=t;n.RedirectTitle=i.strings.getString("photoUploadUnsavedChangesPopupTitle");n.RedirectHtml=i.strings.getString("photoUploadUnsavedChangesPopupText");n.UseGet=t;n.onConfigSucess=$.proxy(i._hidePhotoUploadIfInvalid,i);n.FromVBPage=t;i.uploadController=new $$WP.Upload.Controllers.UploadController($afe.select("#patientPhotoListItem"),n)},_hidePhotoUploadIfInvalid:function(){var n=this;(!n.uploadController._settings.AllowedImageAndDocumentExtensions||n.uploadController._settings.AllowedImageAndDocumentExtensions.length<1)&&(n.modelData.resetPhotoUploadToFalse(),n.$switchRoot.empty(),n._render())},_updateFileSelector:function(n){var i="#patientPhotoFileInput";n&&n._settings&&Array.isArray(n._settings.AllowedImageAndDocumentExtensions)&&($afe.select(i).replaceWith($afe.select(i)).val("").clone(t),$afe.select(i).safeAttr("accept","image/"+n._settings.AllowedImageAndDocumentExtensions.join(",image/")))},_refreshPage:function(){$$WPUtil.ShowAjaxSpinner($afe.select(".ajaxspinner"));$$WPUtil.TryRedirect(makeLink("inside.asp?mode=HttpModule&State="+self.location.pathname.substring(WP.myPath.length)+encodeURIComponent(self.location.search)+"&RebuildMenu=1"))},_hideLoading:function(){$$WPUtil.HideAjaxSpinner($afe.select(u))},_findExifAndShowConfirmationPopup:function(n,t,i,r){var u={};u.viewModel=t;u.successCallback=i;u.uploadController=r;u.inpFile=n;this._getExifTag(n,this._showPhotoConfirmationPopup.bind(this),u)},_showPhotoConfirmationPopup:function(i,r){var f=i.inpFile,e=i.viewModel,o=i.successCallback,s=i.uploadController;r||f.name.toLowerCase().indexOf(".tif",f.name.length-5)!==-1?(formData=new FormData,formData.append("__file__[]",f),$$WPUtil.ShowAjaxSpinner($afe.select(u)),$.ajax({dataType:"json",type:"POST",processData:n,contentType:n,url:makeLink("ProxySwitch/ProxyPhotoUpload/ConvertToJpegRemoveExif"),data:formData}).success($.proxy(function(n){$$WPUtil.HideAjaxSpinner($afe.select(u));this._showPhotoConfirmationCore(t,f,e,o,s,n.bytes);this},this))):this._showPhotoConfirmationCore(n,f,e,o,s)},_getExifTag:function(t,i,r){var u=new FileReader;u.onload=function(t){var e=this,f=new DataView(t.target.result),l,u,c,s,a,h,v,o;if(f.getUint16(0)!=65496)return i(r,n);for(l=f.byteLength,u=2;u<l;){if(e._safeGetUint(f,u+2,16,n)<=8)return i(r,n);if(c=e._safeGetUint(f,u,16,n),u+=2,c==65505){if(e._safeGetUint(f,u+=2,32,n)!=1165519206)return i(r,n);if(s=e._safeGetUint(f,u+=6,16,n)==18761,o=e._safeGetUint(f,u+4,32,s),o===-1)break;for(u+=o,a=e._safeGetUint(f,u,16,s),u+=2,h=0;h<a;h++)if(e._safeGetUint(f,u+h*12,16,s)==274)return v=e._safeGetUint(f,u+h*12+8,16,s),i(r,v>=2)}else if((c&65280)!=65280)break;else{if(o=e._safeGetUint(f,u,16,n),o===-1)break;u+=o}}return i(r,n)}.bind(this);u.readAsArrayBuffer(t)},_safeGetUint:function(n,t,i,r){try{return i===16?n.getUint16(t,r):n.getUint32(t,r)}catch(u){return-1}},_showPhotoConfirmationCore:function(n,r,f,e,o,s){var y="#proxyPhotoPreview",p="ServiceAreas",w="@MYCHART@ALLOWEDAREAS@",b="@MYCHART@PHOTO_FILENAME@",k="@MYCHART@SUBJECT_PATIENTNAME@",h=this,l,d,a,v,g,nt,tt,c;return h.strings.addMnemonic(k,h.modelData.CurrentlySelected.DisplayName),h.strings.addMnemonic(b,r.name,$$WP.Strings.EncodingTypes.None),h.strings.addMnemonic(w,h.modelData.CurrentlySelected.ServiceAreaAbbreviationList,$$WP.Strings.EncodingTypes.None),d=[new $$WPComp.ComplexObjects.Button(h.strings.getString("photoConfirmationPopupAcceptButton"),i,"nextstep","continue"),new $$WPComp.ComplexObjects.Button(h.strings.getString("photoConfirmationPopupCancelButton"),i,"inlinedelete","stop")],h.modelData.CurrentlySelected.IsSelf?(l=h.uploadController._settings.IsPhotoForPatientsChart?"photoUploadConfirmationSelf":"photoUploadConfirmationSelfMyChartOnly",a=h.uploadController._settings.IsPhotoForPatientsChart?"photoUploadScreenReaderConfirmationSelf":"photoUploadScreenReaderConfirmationSelfMyChartOnly"):(l=h.uploadController._settings.IsPhotoForPatientsChart?"photoUploadConfirmationSubject":"photoUploadConfirmationSubjectMyChartOnly",a=h.uploadController._settings.IsPhotoForPatientsChart?"photoUploadScreenReaderConfirmationSubject":"photoUploadScreenReaderConfirmationSubjectMyChartOnly"),h.modelData.CurrentlySelected.ServiceAreaAbbreviationList&&(l+=p,a=p),v=h.strings.getString(l),g=h.strings.getString(a),h.strings.removeMnemonic(k),h.strings.removeMnemonic(b),h.strings.removeMnemonic(w),v="<span id='proxyPhotoPreview' class='largePhoto'><\/span>  <span class='clearlabel'>"+g+"<\/span><span aria-hidden='true'>"+v+"<\/span> ",nt=h.strings.getString("UploadingPhoto"),c=URL.createObjectURL(r),f.PhotoUrl=c,$$WPUtil.quickMessageBox(v,h.strings.getString("uploadPhotoTitle"),d,function(n,t,i,r,f,e){(URL.revokeObjectURL(r),e==="toolbarcontinue")&&($$WPUtil.ShowAjaxSpinner($afe.select(u)),t.call(n,i))},[o,e,r,c,nt],"photoUploadConfirmationComponent"),n&&(tt=new Blob([new Uint8Array(s)],{type:"image/jpeg"}),c=URL.createObjectURL(tt),f.PhotoUrl=c),$afe.select(y).safeAppend($afe.renderTemplate($$WP.Templates.ProxySwitch.PatientRoundIcon,f)),$afe.select(y).safeAttr("aria-label",r.name),h._updateFileSelector(h.uploadController),t},_handleKeydown:function(i){var u=this,f;if(!u.modelData.IsGuest){if(f=n,!u.modelData.ShowDropDown===t&&(i.keyCode===u.keyCode.SPACE||i.keyCode===u.keyCode.RETURN)){$$WPUtil.TryRedirect(makeLink("Home"));return}switch(i.keyCode){case u.keyCode.SPACE:case u.keyCode.RETURN:u.popupMenuController&&(u.openProxyDropdown(),u.popupMenuController.setFocusToFirstItem());f=t;break;case u.keyCode.ESC:u.popupMenuController&&u.$menuButton.safeAttr(r)===e&&(u.closeProxyDropdown(),f=t)}f&&(i.stopPropagation(),i.preventDefault())}},_handleClick:function(i){var u=this;if(!u.modelData.IsGuest)if(!u.modelData.ShowDropDown===t&&$$WPUtil.TryRedirect(makeLink("Home")),u.dontReopen&&(u.dontReopen=n),u.$menuButton.safeAttr(r)===e)u.closeProxyDropdown();else{u.openProxyDropdown();var f=document.getElementById("proxyMenuButton").getBoundingClientRect(),o=Math.round((f.left+f.right)/2),s=Math.round((f.top+f.bottom)/2);(i.screenX===0&&i.screenY===0||i.clientX===o&&i.clientY===s)&&u.popupMenuController.setFocusToFirstItem()}},openProxyDropdown:function(){var n=this;+new Date-n.lastCloseTime<250||(n._onResize(),n.$switchRoot.addClass(c),n.$menuButton.safeAttr(r,e),$afe.select(h).fadeIn("fast"),n.__setAriaHiddenForPage(t),window.innerWidth>1024&&$afe.select("body").css(s,-$$WPUtil.getScrollTop()),$$WP.Utilities.UI.ToggleBodyScrolling(t),$afe.select("#proxyList")[0].scrollTop=0)},closeProxyDropdown:function(){var t=this,i,u;t.$switchRoot.removeClass(c);t.$menuButton.safeAttr(r,"false");i=$afe.select("body");u=-parseInt(i.css(s));$afe.select(h).fadeOut("fast");$$WP.Utilities.UI.ToggleBodyScrolling(n);window.innerWidth>1024&&(i.css(s,""),$$WPUtil.setScrollTop(u));t.lastCloseTime=+new Date;t.__setAriaHiddenForPage(n)},__setAriaHiddenForPage:function(n){$afe.select("#footer").safeAttr(f,n);$afe.select("#content").safeAttr(f,n);$afe.select("#toastWrapper").safeAttr(f,n)}};o.prototype=l;$$WP.ProxySwitch.Controllers.ProxySelectorController=o;o.extend($$WP.Controllers.Controller,"WP$ProxySwitch$Controllers$ProxySelectorController")}(),function(){var n=null,t,i;$$WP.Utilities.guaranteeExistence($$WP,"ProxySwitch.Controllers");t=function(n,t){var i=this,r,u;i.$root=n;i.parentController=t;i.menuitems=[];childElements=i.$root.find("li");r=i;childElements.each(function(n,t){t.children.length<1||(menuElement=t.children[0],menuElement&&menuElement.tagName.toUpperCase()==="A")&&(r.menuitems.push(t),menuElement.onclick=r._handleClick.bind(r,menuElement),t.onkeydown=r._handleKeydown.bind(r,t))});u=i.menuitems.length;u>0&&(i.firstItem=i.menuitems[0],i.lastItem=i.menuitems[u-1]);i.keyCode={TAB:9,RETURN:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40}};i={$root:n,parentController:n,menuitems:n,firstChars:n,firstItem:n,lastItem:n,hasFocus:!1,currentItem:n,setFocusToController:function(){this.parentController.$menuButton.focus()},setFocusToFirstItem:function(){this.firstItem.focus();this.currentItem=this.firstItem},setFocusToLastItem:function(){this.lastItem.focus();this.currentItem=this.lastItem},setFocusToPreviousItem:function(){var n=this,t;n.currentItem===n.firstItem?n.setFocusToLastItem():(t=n.menuitems.indexOf(n.currentItem),n.menuitems[t-1].focus(),n.currentItem=n.menuitems[t-1])},setFocusToNextItem:function(){var n=this,t;n.currentItem===n.lastItem?n.setFocusToFirstItem():(t=n.menuitems.indexOf(n.currentItem),n.menuitems[t+1].focus(),n.currentItem=n.menuitems[t+1])},_removeLinks:function(n){this.menuitems.forEach(function(t){t.href!==n&&(t.href="#")})},_handleClick:function(n,t){n.dataset.closedropdown==="true"?(this.setFocusToController(),this.parentController.closeProxyDropdown(),t.stopImmediatePropagation()):n.href&&n.href!=="#"&&n.dataset.switchpatients==="true"&&$$WPUtil.SafeToRedirect(function(t){var i="#itemFeedContainer a",r=".proxySubjectLink";t&&($$WPUtil.TryRedirect(n.href),$afe.select(r).removeAttr("href"),$afe.select(r).removeAttr("onclick"),$afe.select(i).removeAttr("href"),$afe.select(i).removeAttr("onclick"))})},_handleKeydown:function(n,t){var u=!0,i=this,r=!1;if(!t.ctrlKey&&!t.altKey&&!t.metaKey){if(t.shiftKey)t.keyCode===i.keyCode.TAB&&(i.setFocusToPreviousItem(i),r=u);else switch(t.keyCode){case i.keyCode.ESC:i.setFocusToController();i.parentController.closeProxyDropdown();return;case i.keyCode.UP:i.setFocusToPreviousItem(i);r=u;break;case i.keyCode.DOWN:case i.keyCode.TAB:i.setFocusToNextItem(i);r=u;break;case i.keyCode.HOME:case i.keyCode.PAGEUP:i.setFocusToFirstItem();r=u;break;case i.keyCode.END:case i.keyCode.PAGEDOWN:i.setFocusToLastItem();r=u;break;case i.keyCode.RETURN:case i.keyCode.SPACE:n.firstElementChild.click();r=u}r&&(t.stopPropagation(),t.preventDefault())}}};t.prototype=i;$$WP.ProxySwitch.Controllers.ProxyPopupMenuController=t;t.extend($$WP.Controllers.Controller,"WP$ProxySwitch$Controllers$ProxyPopupMenuController")}(),function(){var y="continue",p="previousstep",w="data-is-editing",s="model-id",b="keypress",h="[data-function='edit-label-input']",c="click",a="[data-function='upload']",k="FileNotAcceptedPopupAnotherUploadErrorText",d="FileNotAcceptedPopupWrongExtensionErrorText",f="FileNotAcceptedPopupButtonText",e="FileNotAcceptedPopupHeaderText",i=!0,v="json",o="POST",n=null,t=!1,g="DocumentId",l;$$WP.Utilities.guaranteeExistence($$WP,"Upload.Controllers");l=function(n,i,r,u,f){var e=this,o;if(e.WP$Controllers$Controller(),e._viewContainer$=n,e._documentCollection=new $$WP.Common.ModelCollection([{propertyNames:g,storeAs:"single"}],[],[]),e._isConfigLoaded=t,e._settings=i,e._documentModelClass=u||$$WP.Upload.Models.Document,e.__afterRefreshView=f,r&&r.length>0)for(o=0;o<r.length;++o)e._documentCollection.add(new e._documentModelClass(r[o]));e.__pendingUploadFiles=[];e.proxify("_onAddButtonClicked","_onRemoveButtonClicked","_onEditButtonClicked","_uploadFile","_onFileNameEdited","__onDropFiles","__onDragEnter","__onDragLeave","_onFileNameInputKeyPressed","_onViewButtonClicked");e._getConfig();e._refreshView();e._attachEventHandlers()};l.prototype={_viewContainer$:n,_settings:n,_documentCollection:n,_documentModelClass:n,__afterRefreshView:n,_isConfigLoaded:n,_getConfig:function(){var n=this,r;n._settings.ConfigUrl?(n._isConfigLoaded=t,n.__isFunction(n._settings.onConfigStart)&&n._settings.onConfigStart(),r=n._settings.UseGet?"GET":o,$.ajax({type:r,dataType:v,data:$$WPUtil.postify(n._settings.ContextData),url:n._settings.ConfigUrl}).success($.proxy(n.__onConfigSuccess,n)).fail($.proxy(n.__onConfigFail,n))):n._isConfigLoaded=i},__onConfigSuccess:function(n){var t=this,r;if(n.Success){if(t._isConfigLoaded=i,r=new $$WP.Upload.Models.UploadConfiguration(n.Data),t._settings.AllowedExtensions=r.AllowedExtensions,t._settings.AllowedImageAndDocumentExtensions=r.AllowedImageAndDocumentExtensions,t._settings.AllowedVideoExtensions=r.AllowedVideoExtensions,t._settings.MaxAllowedImageSize=r.MaxAllowedImageSize,t._settings.MaxAllowedVideoSize=r.MaxAllowedVideoSize,t._settings.MaxFilesAllowed=r.MaxFilesAllowed,t._settings.IsPhotoForPatientsChart=r.IsPhotoForPatientsChart,t._refreshView(),t.__isFunction(t._settings.onConfigSucess))t._settings.onConfigSucess(t._settings,n.Data)}else t.__onConfigFail(n)},__onConfigFail:function(n){this._handleCommunicationFail(u.GetConfig,n)},__pendingUploadFiles:n,_uploadFile:function(){var n=this._viewContainer$.find(".upload-input[data-function='upload-core']"),t=n.prop("files");this.__uploadFileCore(t)},__uploadFileCore:function(n){var t=this,i,u;if(t._settings.MaxFilesAllowed<t._documentCollection.Models.length+n.length){t.__isFunction(t._settings.onUploadFail)&&t._settings.onUploadFail();t._showErrorMessage("FileNotAcceptedPopupTooManyFilesErrorText",e,f);return}for(i=0;i<n.length;++i)if(u=t._settings.IsFileAceptable(n[i].name,n[i].size),u!==0){t.__isFunction(t._settings.onUploadFail)&&t._settings.onUploadFail();switch(u){case 1:t._showErrorMessage(d,e,f);break;case 2:t._settings.MaxAllowedImageSize>=1024?t._showErrorMessage("FileNotAcceptedPopupLargeImageErrorText",e,f):t._showErrorMessage("FileNotAcceptedPopupLargeImageErrorTextKb",e,f);break;case 3:t._showErrorMessage("FileNotAcceptedPopupLargeVideoErrorText",e,f)}return}if(r)t._showErrorMessage(k,e,f);else{for(i=0;i<n.length;++i)$.isFunction(t._settings.ConfirmFunction)?t._settings.ConfirmFunction.call(t._settings.MasterController,n[i],t._settings.ConfirmationViewModel,t.__pushToPending,t):t.__pendingUploadFiles.push(n[i]);t._settings.ConfirmFunction||t.__flushUploadQueue()}},__pushToPending:function(n){this.__pendingUploadFiles.push(n);this.__flushUploadQueue()},__flushUploadQueue:function(){var n=this,s=(n.__pendingUploadFiles||[]).length,e,f,u;if(s===0){r=t;n._refreshView(i);return}n.__isFunction(n._settings.onUploadStart)&&n._settings.onUploadStart();r=i;n._refreshView(i);e=n.__pendingUploadFiles.shift();f=new FormData;f.append("__file__[]",e);n._serializeContextToFormData(f,n._settings.ContextData);n._settings.FromVBPage?(u=n,getCSRFTokenAsQS(function(){$.ajax({type:o,processData:t,contentType:t,data:f,url:u._settings.UploadUrl}).success($.proxy(u.__onUploadSuccess,u)).fail($.proxy(u.__onUploadFail,u))})):$.ajax({type:o,processData:t,contentType:t,data:f,url:n._settings.UploadUrl}).success($.proxy(n.__onUploadSuccess,n)).fail($.proxy(n.__onUploadFail,n))},__onUploadSuccess:function(n){var t=this,i,u,r;if(n.Success){for(r=[],u=(n.Data||[]).length,i=0;i<u;++i)r.push(new t._documentModelClass(n.Data[i]));if(t._documentCollection.addRange(r),t._refreshView(),t.__isFunction(t._settings.onUploadSuccess))t._settings.onUploadSuccess(r,n);t._viewContainer$.find(".upload--edit-icon").last().focus();t.__flushUploadQueue()}else t.__onUploadFail(n)},__onUploadFail:function(n){var f=this;r=t;f.__isFunction(f._settings.onUploadFail)&&f._settings.onUploadFail();f.__pendingUploadFiles=[];f._refreshView(i);f._handleCommunicationFail(u.UploadFile,n)},_editFileName:function(n){var t=this,i=n.toRawObject()||{};i.ContextData=t._settings.ContextData;t.__isFunction(t._settings.onEditStart)&&t._settings.onEditStart();$.ajax({type:o,url:t._settings.EditUrl,data:$$WPUtil.postify(i),dataType:v}).success($.proxy(t._editFileNameSuccess,t)).fail($.proxy(t.__editFileNameFail,t))},_editFileNameSuccess:function(n){var t=this,i;if(n.Success){if(i=t._documentCollection.getFirstInIndex(g,n.Data.DocumentId),t.__isFunction(t._settings.onEditSuccess))t._settings.onEditSuccess(i,n)}else t.__editFileNameFail(n)},__editFileNameFail:function(n){this._handleCommunicationFail(u.EditFileName,n)},_deleteFile:function(n){var t=this,i=n.toRawObject()||{};i.ContextData=t._settings.ContextData;t.__isFunction(t._settings.onDeleteStart)&&t._settings.onDeleteStart();$.ajax({dataType:v,type:o,url:t._settings.DeleteUrl,data:$$WPUtil.postify(i)}).success($.proxy(t.__deleteSuccess,t,n)).fail($.proxy(t.__deleteFail,t))},__deleteSuccess:function(n,t){var i=this;if(t.Success){if(n&&(i._documentCollection.remove(n),i._refreshView(),i._viewContainer$.find(".addItem a").focus(),i.__isFunction(i._settings.onDeleteSuccess)))i._settings.onDeleteSuccess(n,t)}else i.__deleteFail(t)},__deleteFail:function(n){this._handleCommunicationFail(u.DeleteFile,n)},_refreshView:function(n){var i=this,u;if($.isFunction(i._settings.RefreshViewOverride)){i._settings.RefreshViewOverride.call(i,i);return}u={Configuration:i._settings,IsCurrentlyUploading:r,IsLimitReached:i._documentCollection.Models.length>=i._settings.MaxFilesAllowed,IsConfigLoading:i._isConfigLoaded===t,CanUpload:!r&&i._documentCollection.Models.length<i._settings.MaxFilesAllowed&&i._isConfigLoaded};$$WP.Strings.setDefaultNamespace(i._settings.DefaultStringNamespace);u.Documents=i._documentCollection.Models;n?i._viewContainer$.find(".upload-addFile").safeReplaceWith($afe.renderTemplate(i._settings.UploadCardTemplate,u)):i._viewContainer$.empty().safeAppend($afe.renderTemplate(i._settings.ViewTemplate,u));$$WP.Strings.clearDefaultNamespace();i._viewContainer$.find(".cardlist").trigger("cardLoad");$afe.jq(window).trigger("matchColumnHeights");$.isFunction(i.__afterRefreshView)&&i.__afterRefreshView()},_attachEventHandlers:function(){var t="[data-dragregion]",n=this;n.__isFunction(n._settings.AttachContainerEventHandlers)&&n._settings.AttachContainerEventHandlers();n.__isFunction(n._settings.AttachFileCardEventHandlers)&&n._settings.AttachFileCardEventHandlers();n._viewContainer$.on("click keypress",a,n._onAddButtonClicked);n._viewContainer$.on(c,"[data-function='remove']",n._onRemoveButtonClicked);n._viewContainer$.on(c,"[data-function='view']",n._onViewButtonClicked);n._viewContainer$.on("change","[data-function='upload-core']",n._uploadFile);n._viewContainer$.on(c,"[data-function='edit-label']",n._onEditButtonClicked);n._viewContainer$.on("blur",h,n._onFileNameEdited);n._viewContainer$.on(b,h,n._onFileNameInputKeyPressed);n._viewContainer$.on("dragover drop dragenter dragleave dragstart dragend",t,function(n){n.stopPropagation();n.preventDefault()});n._viewContainer$.on("dragover",t,function(n){n.originalEvent.dataTransfer.dropEffect="copy"});n._viewContainer$.on("drop",t,n.__onDropFiles);n._viewContainer$.on("dragover dragenter",t,n.__onDragEnter);n._viewContainer$.on("dragleave dragend",t,n.__onDragLeave)},__onDropFiles:function(n){var t=n.originalEvent.dataTransfer.files||[];this.__uploadFileCore(t)},__onDragEnter:function(){this._viewContainer$.find(a).addClass("hover")},__onDragLeave:function(){this._viewContainer$.find(a).removeClass("hover")},_onFileNameEdited:function(n){var i=$afe.jq(n.target).closest("input"),r=(i.val()||"").trim(),t=$$WP.Common.Model.getInstance(i.data(s));r.length>0&&r.length<=100&&t&&r!==t.FileDisplayName?(t.FileDisplayName=r,this._editFileName(t),this._refreshView()):(i.val(t.FileDisplayName),i.closest("[data-is-editing]").safeAttr(w,"false"))},_onFileNameInputKeyPressed:function(n){var t=n.which||n.keyCode;t===13&&(n.stopPropagation(),this._viewContainer$.find(h).trigger("blur"))},_onAddButtonClicked:function(t){var u="Upload",i=this;if(t.type!==b||t.keyCode===13){if(t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault(),r){new $$WPUtil.quickMessageBox($$WP.Strings.get(k,u),$$WP.Strings.get(e,u),[new $$WPComp.ComplexObjects.Button($$WP.Strings.get(f,u),n,p,y)]);return}i._settings.NeedsRedirect?($$WPUtil.SafeToRedirectOverrideSettings={TitleText:i._settings.RedirectTitle,Html:i._settings.RedirectHtml},$$WPUtil.SafeToRedirect($.proxy(i._continueUpload,i))):i._triggerInputClick()}},_triggerInputClick:function(){this._viewContainer$.find("input[type='file'][data-function='upload-core']").trigger(c)},_continueUpload:function(n){($$WPUtil.SafeToRedirectOverrideSettings={},n)&&this._triggerInputClick()},_onRemoveButtonClicked:function(t){var i="@MYCHART@DOCUMENTNAME@",f=$afe.jq(t.target),r=$$WP.Common.Model.getInstance(f.data(s)),u;$$WP.Strings.setDefaultNamespace(this._settings.DefaultStringNamespace);$$WP.Strings.addMnemonic(i,r.FileDisplayName);u=[new $$WPComp.ComplexObjects.Button($$WP.Strings.get("DocumentRemovePopupRemoveButtonText"),n,"inlinedelete","remove"),new $$WPComp.ComplexObjects.Button($$WP.Strings.get("DocumentRemovePopupGoBackButtonText"),n,"cancel","cancel")];new $$WPUtil.quickMessageBox($$WP.Strings.get("DocumentRemovePopupDescriptionText"),$$WP.Strings.get("DocumentRemovePopupHeaderText"),u,$.proxy(this._onRemovePopupButtonClicked,this),[r]);$$WP.Strings.removeMnemonic(i);$$WP.Strings.clearDefaultNamespace()},_onRemovePopupButtonClicked:function(n,t){t===$$WPComp.TOOLBARIDENTIFIER+"remove"&&this._deleteFile(n)},_onEditButtonClicked:function(n){n.stopPropagation();n.preventDefault();var i=$afe.jq(n.target),r=$$WP.Common.Model.getInstance(i.data(s)),t=this._viewContainer$.find("[data-document-id='"+r.DocumentId+"'][data-is-editing]");t.safeAttr(w,"true");t.find(h).focus()},_onViewButtonClicked:function(i){i.stopPropagation();i.preventDefault();var f=$afe.jq(i.target),r=$$WP.Common.Model.getInstance(f.data(s)),u=new $$WP.Documents.ViewDocument.Models.DocumentModel(n,{},encodeURIComponent(r.FileReference),encodeURIComponent(r.DocumentId),r.FileDisplayName,r.FileExtensionWithoutDot,n,n,n,n,n,n,n,n,n,n,encodeURIComponent(this._settings.ViewerCsn));r.AllowPreview||(u.AllowPreview=t);u.openDocument("uploadWidget sm-autosizedpopup")},getAllDocuments:function(){return this._documentCollection.Models},getDocumentCollection:function(){return this._documentCollection},getUploadContextData:function(){var t=n;return $$WPUtil.IsNullOrEmpty(this._settings)||(t=this._settings.ContextData),t},DeleteFile:function(n){this._deleteFile(n)},RefreshView:function(n){this._refreshView(n)},_serializeContextToFormData:function(n,t){var i;if(t)for(i in t)n.append(i,t[i])},_handleCommunicationFail:function(n,r){var f=this,e=i,o="";switch(n){case u.GetConfig:e=f.__isFunction(f._settings.onConfigFail)?f._settings.onConfigFail(r):i;o="ServerErrorPopupDescriptionGetConfigFailedText";break;case u.UploadFile:e=f.__isFunction(f._settings.onUploadFail)?f._settings.onUploadFail(r):i;o="ServerErrorPopupDescriptionUploadFileFailedText";break;case u.EditFileName:e=f.__isFunction(f._settings.onEditFail)?f._settings.onEditFail(r):i;o="ServerErrorPopupDescriptionEditFileFailedText";break;case u.DeleteFile:e=f.__isFunction(f._settings.onDeleteFail)?f._settings.onDeleteFail(r):i;o="ServerErrorPopupDescriptionDeleteFileFailedText"}e!==t&&f._showErrorMessage(o,"ServerErrorPopupHeaderText","ServerErrorPopupButtonText")},_showErrorMessage:function(t,i,r){var f="@MYCHART@ALLOWEDVIDEOSIZE@",e="@MYCHART@ALLOWEDIMAGESIZEKB@",o="@MYCHART@ALLOWEDIMAGESIZE@",s="@MYCHART@ALLOWEDEXTENSIONS@",h="@MYCHART@MAXUPLOADS@",u=this;$$WP.Strings.setDefaultNamespace(u._settings.DefaultStringNamespace);$$WP.Strings.addMnemonic(h,u._settings.MaxFilesAllowed);$$WP.Strings.addMnemonic(s,u._settings.AllowedExtensions.join(", "));$$WP.Strings.addMnemonic(o,Math.floor(u._settings.MaxAllowedImageSize*10/1024)/10);$$WP.Strings.addMnemonic(e,u._settings.MaxAllowedImageSize);$$WP.Strings.addMnemonic(f,Math.floor(u._settings.MaxAllowedVideoSize*10/1024)/10);t==d&&u._settings.AllowedExtensions.length==0&&(t="FileNotAcceptedPopupWrongExtensionErrorTextNoExtensions");new $$WPUtil.quickMessageBox($$WP.Strings.get(t),$$WP.Strings.get(i),[new $$WPComp.ComplexObjects.Button($$WP.Strings.get(r),n,p,y)]);$$WP.Strings.removeMnemonic(f);$$WP.Strings.removeMnemonic(o);$$WP.Strings.removeMnemonic(e);$$WP.Strings.removeMnemonic(s);$$WP.Strings.removeMnemonic(h);$$WP.Strings.clearDefaultNamespace();u._refreshView()},__isFunction:function(n){return n&&typeof n=="function"}};var r=t,u={GetConfig:1,UploadFile:2,EditFileName:3,DeleteFile:4},nt=function(){return r};$$WP.Upload.Controllers.UploadController=l;$$WP.Upload.Controllers.IsCurrentlyUploading=nt;l.extend($$WP.Controllers.Controller,"$$WP$Upload$Controllers$UploadController")}(),function(){var u="referenceSvg",t="function",i="getStringResource",n=null,f=Handlebars.template,r=$$WP.Templates=$$WP.Templates||{};r=r.Core=r.Core||{};r.Header=f({compiler:[7,">= 4.0.0"],main:function(r,f,e,o,s){var v="ifGuestLoggedIn",c,h,l,a=r.escapeExpression((e.setStringNamespace||f&&f.setStringNamespace||e.helperMissing).call(f!=n?f:r.nullContext||{},"Shared._AfterLoginLayout",{name:"setStringNamespace",hash:{},data:s}))+'<a href="#maintop" class="noprint" id="skipToMain">'+r.escapeExpression((e.getStringResource||f&&f.getStringResource||e.helperMissing).call(f!=n?f:r.nullContext||{},"SkipToMainText",{name:i,hash:{},data:s}))+'<\/a><div id="header_logo_by_epic"><img class="logo_image" src="'+r.escapeExpression((e.makeStaticLink||f&&f.makeStaticLink||e.helperMissing).call(f!=n?f:r.nullContext||{},"images/MyChartByEpic.svg",{name:"makeStaticLink",hash:{},data:s}))+'" alt="'+r.escapeExpression((e.getStringResource||f&&f.getStringResource||e.helperMissing).call(f!=n?f:r.nullContext||{},"MyChartByEpicAlt",{name:i,hash:{},data:s}))+'" /><\/div>';return c=(h=(h=e.ifGuestLoggedIn||(f!=n?f.ifGuestLoggedIn:f))!=n?h:e.helperMissing,l={name:v,hash:{},fn:r.program(1,s,0),inverse:r.program(3,s,0),data:s},typeof h===t?h.call(f!=n?f:r.nullContext||{},l):h),e.ifGuestLoggedIn||(c=e.blockHelperMissing.call(f,c,l)),c!=n&&(a+=c),a+='<div id="header_extras"><div id="header_extras_actions"><div id="header_extras_actions_group"><div id="locale_container"><\/div><div id="logout_container"><button id="logout_button" tabindex="0" role="button" aria-labelledby="logout_text" title="',c=(h=(h=e.ifGuestLoggedIn||(f!=n?f.ifGuestLoggedIn:f))!=n?h:e.helperMissing,l={name:v,hash:{},fn:r.program(5,s,0),inverse:r.program(7,s,0),data:s},typeof h===t?h.call(f!=n?f:r.nullContext||{},l):h),e.ifGuestLoggedIn||(c=e.blockHelperMissing.call(f,c,l)),c!=n&&(a+=c),a+='"><svg id="logout_image" class="extra_action_image" aria-hidden="true" focusable="false">'+r.escapeExpression((e.referenceSvg||f&&f.referenceSvg||e.helperMissing).call(f!=n?f:r.nullContext||{},"library.svg#header_signout",{name:u,hash:{},data:s}))+'<\/svg><span id="logout_text">',c=(h=(h=e.ifGuestLoggedIn||(f!=n?f.ifGuestLoggedIn:f))!=n?h:e.helperMissing,l={name:v,hash:{},fn:r.program(5,s,0),inverse:r.program(7,s,0),data:s},typeof h===t?h.call(f!=n?f:r.nullContext||{},l):h),e.ifGuestLoggedIn||(c=e.blockHelperMissing.call(f,c,l)),c!=n&&(a+=c),a+'<\/span><\/button><\/div><\/div><\/div><div id="header_extras_proxy"><div id="proxy_container"><div id="patient_name_switch"><\/div><\/div><\/div><\/div>'+r.escapeExpression((h=(h=e.clearStringNamespace||(f!=n?f.clearStringNamespace:f))!=n?h:e.helperMissing,typeof h===t?h.call(f!=n?f:r.nullContext||{},{name:"clearStringNamespace",hash:{},data:s}):h))},"1":function(){return'<div id="header_logo"><span class="header_logo_link"><\/span><\/div>'},"3":function(r,f,e,o,s){var h;return'<div id="header_logo"><a href="'+r.escapeExpression((e.makeLink||f&&f.makeLink||e.helperMissing).call(f!=n?f:r.nullContext||{},"Home",{name:"makeLink",hash:{},data:s}))+'" title="'+r.escapeExpression((e.getStringResource||f&&f.getStringResource||e.helperMissing).call(f!=n?f:r.nullContext||{},"BackToHomeText",{name:i,hash:{},data:s}))+'" class="header_logo_link"><\/a><\/div><div id="header_navigation"><div id="header_menu" role="button" tabindex="0" aria-haspopup="true"><div id="header_menu_icon" class="proxybgcolor '+r.escapeExpression((h=(h=e.proxyColorClass||(f!=n?f.proxyColorClass:f))!=n?h:e.helperMissing,typeof h===t?h.call(f!=n?f:r.nullContext||{},{name:"proxyColorClass",hash:{},data:s}):h))+'"><svg aria-hidden="true" class="menu_image" focusable="false">'+r.escapeExpression((e.referenceSvg||f&&f.referenceSvg||e.helperMissing).call(f!=n?f:r.nullContext||{},"library.svg#header_menubutton",{name:u,hash:{},data:s}))+'<\/svg><\/div><span id="header_menu_name" class=""><\/span><\/div><div id="header_shortcuts" role="list"><\/div><\/div>'},"5":function(t,r,u,f,e){return t.escapeExpression((u.getStringResource||r&&r.getStringResource||u.helperMissing).call(r!=n?r:t.nullContext||{},"LogOutGuestButtonText",{name:i,hash:{},data:e}))},"7":function(t,r,u,f,e){return t.escapeExpression((u.getStringResource||r&&r.getStringResource||u.helperMissing).call(r!=n?r:t.nullContext||{},"LogOutButtonText",{name:i,hash:{},data:e}))},useData:!0})}(),function(){var n=null,i=Handlebars.template,t=$$WP.Templates=$$WP.Templates||{};t=t.Core=t.Core||{};t.HeaderShortcuts=i({compiler:[7,">= 4.0.0"],main:function(t,i,r,u,f){var e;return(e=r.each.call(i!=n?i:t.nullContext||{},i,{name:"each",hash:{},fn:t.program(1,f,0),inverse:t.noop,data:f}))!=n?e:""},"1":function(t,i,r,u,f){var o,e;return'<div class="shortcut" role="listitem"><a href="'+t.escapeExpression(t.lambda(i!=n?i.URL:i,i))+'" title="'+t.escapeExpression(t.lambda(i!=n?i.Name:i,i))+'" class="shortcut_link" '+((o=t.lambda(i!=n?i.DataAttributes:i,i))!=n?o:"")+'><svg class="shortcut_icon proxyfillcolor '+t.escapeExpression((e=(e=r.proxyColorClass||(i!=n?i.proxyColorClass:i))!=n?e:r.helperMissing,typeof e=="function"?e.call(i!=n?i:t.nullContext||{},{name:"proxyColorClass",hash:{},data:f}):e))+'" aria-hidden="true" focusable="false">'+t.escapeExpression((r.referenceSvg||i&&i.referenceSvg||r.helperMissing).call(i!=n?i:t.nullContext||{},i!=n?i.Icon:i,{name:"referenceSvg",hash:{},data:f}))+'<\/svg><span class="shortcut_name">'+t.escapeExpression(t.lambda(i!=n?i.Name:i,i))+"<\/span><\/a><\/div>"},useData:!0})}(),function(){var f="Name",h="TextDirection",c='-container" class="menu-container jqHidden" dir="',u='">',l='" aria-hidden="true">',e="referenceSvg",r="if",i="MenuName",t="function",s='<div id="',n=null,a=Handlebars.template,o=$$WP.Templates=$$WP.Templates||{};o=o.Navigation=o.Navigation||{};o.Menu=a({compiler:[7,">= 4.0.0"],main:function(f,o,h,c,a){var b="MenuSearchInputPlaceholder",p="getStringResource",k="MenuCloseButtonLabel",d="SubjectColor",y,v,w,g=f.escapeExpression((h.setStringNamespace||o&&o.setStringNamespace||h.helperMissing).call(o!=n?o:f.nullContext||{},"Navigation.Menu",{name:"setStringNamespace",hash:{},data:a}))+s+f.escapeExpression((v=(v=h.MenuName||(o!=n?o.MenuName:o))!=n?v:h.helperMissing,typeof v===t?v.call(o!=n?o:f.nullContext||{},{name:i,hash:{},data:a}):v))+'-shield" class="jqHidden menu-shield"><\/div>'+((y=h[r].call(o!=n?o:f.nullContext||{},o!=n?o.IsNav:o,{name:r,hash:{},fn:f.program(1,a,0),inverse:f.program(3,a,0),data:a}))!=n?y:"")+'<div class="menu-flexparent"><div id="'+f.escapeExpression((v=(v=h.MenuName||(o!=n?o.MenuName:o))!=n?v:h.helperMissing,typeof v===t?v.call(o!=n?o:f.nullContext||{},{name:i,hash:{},data:a}):v))+'-header" class="menu-header"><div id="'+f.escapeExpression((v=(v=h.MenuName||(o!=n?o.MenuName:o))!=n?v:h.helperMissing,typeof v===t?v.call(o!=n?o:f.nullContext||{},{name:i,hash:{},data:a}):v))+'-headertop" class="menu-headertop"><button id="'+f.escapeExpression((v=(v=h.MenuName||(o!=n?o.MenuName:o))!=n?v:h.helperMissing,typeof v===t?v.call(o!=n?o:f.nullContext||{},{name:i,hash:{},data:a}):v))+'-closebutton" class="proxybgcolor color'+f.escapeExpression((v=(v=h.SubjectColor||(o!=n?o.SubjectColor:o))!=n?v:h.helperMissing,typeof v===t?v.call(o!=n?o:f.nullContext||{},{name:d,hash:{},data:a}):v))+' menu-closebutton" aria-label="'+f.escapeExpression((h.getStringResource||o&&o.getStringResource||h.helperMissing).call(o!=n?o:f.nullContext||{},k,{name:p,hash:{},data:a}))+'" title="'+f.escapeExpression((h.getStringResource||o&&o.getStringResource||h.helperMissing).call(o!=n?o:f.nullContext||{},"MenuCloseButtonLabelVerbose",{name:p,hash:{},data:a}))+'"><svg focusable="false" class="menu-buttonicon" aria-hidden="true">'+f.escapeExpression((h.referenceSvg||o&&o.referenceSvg||h.helperMissing).call(o!=n?o:f.nullContext||{},"library.svg#back",{name:e,hash:{},data:a}))+'<\/svg><\/button><div id="'+f.escapeExpression((v=(v=h.MenuName||(o!=n?o.MenuName:o))!=n?v:h.helperMissing,typeof v===t?v.call(o!=n?o:f.nullContext||{},{name:i,hash:{},data:a}):v))+'-contextlabel" class="proxytextcolor color'+f.escapeExpression((v=(v=h.SubjectColor||(o!=n?o.SubjectColor:o))!=n?v:h.helperMissing,typeof v===t?v.call(o!=n?o:f.nullContext||{},{name:d,hash:{},data:a}):v))+' menu-contextlabel">'+f.escapeExpression((v=(v=h.MenuDisplayName||(o!=n?o.MenuDisplayName:o))!=n?v:h.helperMissing,typeof v===t?v.call(o!=n?o:f.nullContext||{},{name:"MenuDisplayName",hash:{},data:a}):v))+'<\/div><\/div><div id="'+f.escapeExpression((v=(v=h.MenuName||(o!=n?o.MenuName:o))!=n?v:h.helperMissing,typeof v===t?v.call(o!=n?o:f.nullContext||{},{name:i,hash:{},data:a}):v))+'-searchcontainer" class="menu-searchcontainer"><button id="'+f.escapeExpression((v=(v=h.MenuName||(o!=n?o.MenuName:o))!=n?v:h.helperMissing,typeof v===t?v.call(o!=n?o:f.nullContext||{},{name:i,hash:{},data:a}):v))+'-responsiveclosebutton" class="';return y=(v=(v=h.ifiOS||(o!=n?o.ifiOS:o))!=n?v:h.helperMissing,w={name:"ifiOS",hash:{},fn:f.program(5,a,0),inverse:f.noop,data:a},typeof v===t?v.call(o!=n?o:f.nullContext||{},w):v),h.ifiOS||(y=h.blockHelperMissing.call(o,y,w)),y!=n&&(g+=y),g+' menu-responsiveclosebutton">'+f.escapeExpression((h.getDisplayString||o&&o.getDisplayString||h.helperMissing).call(o!=n?o:f.nullContext||{},k,{name:"getDisplayString",hash:{},data:a}))+'<\/button><div id="'+f.escapeExpression((v=(v=h.MenuName||(o!=n?o.MenuName:o))!=n?v:h.helperMissing,typeof v===t?v.call(o!=n?o:f.nullContext||{},{name:i,hash:{},data:a}):v))+'-searchbarcontainer" class="menu-searchbarcontainer"><svg focusable="false" class="menu-searchicon proxyfillcolor color'+f.escapeExpression(f.lambda((y=a&&a.root)&&y.SubjectColor,o))+l+f.escapeExpression((h.referenceSvg||o&&o.referenceSvg||h.helperMissing).call(o!=n?o:f.nullContext||{},"library.svg#menu_searchbar",{name:e,hash:{},data:a}))+'<\/svg><input aria-label="'+f.escapeExpression((h.getStringResource||o&&o.getStringResource||h.helperMissing).call(o!=n?o:f.nullContext||{},b,{name:p,hash:{},data:a}))+'" id="'+f.escapeExpression((v=(v=h.MenuName||(o!=n?o.MenuName:o))!=n?v:h.helperMissing,typeof v===t?v.call(o!=n?o:f.nullContext||{},{name:i,hash:{},data:a}):v))+'-searchbar" type="text" placeholder="'+f.escapeExpression((h.getStringResource||o&&o.getStringResource||h.helperMissing).call(o!=n?o:f.nullContext||{},b,{name:p,hash:{},data:a}))+'" autocomplete="off"  class="menu-searchbar" data-permissive="true"><button id="'+f.escapeExpression((v=(v=h.MenuName||(o!=n?o.MenuName:o))!=n?v:h.helperMissing,typeof v===t?v.call(o!=n?o:f.nullContext||{},{name:i,hash:{},data:a}):v))+'-searchemptybutton" type ="button" class="jqHidden menu-searchemptybutton" aria-label="'+f.escapeExpression((h.getStringResource||o&&o.getStringResource||h.helperMissing).call(o!=n?o:f.nullContext||{},"MenuSearchEmptyButtonLabel",{name:p,hash:{},data:a}))+'"><svg focusable="false" id="'+f.escapeExpression((v=(v=h.MenuName||(o!=n?o.MenuName:o))!=n?v:h.helperMissing,typeof v===t?v.call(o!=n?o:f.nullContext||{},{name:i,hash:{},data:a}):v))+'-searchemptyicon" class="menu-searchemptyicon" aria-hidden="true">'+f.escapeExpression((h.referenceSvg||o&&o.referenceSvg||h.helperMissing).call(o!=n?o:f.nullContext||{},"library.svg#menu_clearsearch",{name:e,hash:{},data:a}))+'<\/svg><\/button><\/div><\/div><div id="'+f.escapeExpression((v=(v=h.MenuName||(o!=n?o.MenuName:o))!=n?v:h.helperMissing,typeof v===t?v.call(o!=n?o:f.nullContext||{},{name:i,hash:{},data:a}):v))+'-searchresultstotal" class="subtle menu-searchresultstotal" aria-hidden="true"><\/div><div id="'+f.escapeExpression((v=(v=h.MenuName||(o!=n?o.MenuName:o))!=n?v:h.helperMissing,typeof v===t?v.call(o!=n?o:f.nullContext||{},{name:i,hash:{},data:a}):v))+'-ariasearchresultstotal" class="clearlabel menu-ariasearchresultstotal" aria-live="polite"><\/div><\/div><div id="'+f.escapeExpression((v=(v=h.MenuName||(o!=n?o.MenuName:o))!=n?v:h.helperMissing,typeof v===t?v.call(o!=n?o:f.nullContext||{},{name:i,hash:{},data:a}):v))+'-searchlist" class="jqHidden menu-searchlist"><\/div><ul id="'+f.escapeExpression((v=(v=h.MenuName||(o!=n?o.MenuName:o))!=n?v:h.helperMissing,typeof v===t?v.call(o!=n?o:f.nullContext||{},{name:i,hash:{},data:a}):v))+'-list" class="menu-mainmenulist jqHidden " style="display: block" aria-label="'+f.escapeExpression((h.getStringResource||o&&o.getStringResource||h.helperMissing).call(o!=n?o:f.nullContext||{},"MenuMainContentLabel",{name:p,hash:{},data:a}))+u+((y=h.each.call(o!=n?o:f.nullContext||{},o!=n?o.Submenus:o,{name:"each",hash:{},fn:f.program(7,a,0),inverse:f.noop,data:a}))!=n?y:"")+"<\/ul><\/div>"+((y=h[r].call(o!=n?o:f.nullContext||{},o!=n?o.IsNav:o,{name:r,hash:{},fn:f.program(17,a,0),inverse:f.program(19,a,0),data:a}))!=n?y:"")+f.escapeExpression((v=(v=h.clearStringNamespace||(o!=n?o.clearStringNamespace:o))!=n?v:h.helperMissing,typeof v===t?v.call(o!=n?o:f.nullContext||{},{name:"clearStringNamespace",hash:{},data:a}):v))},"1":function(r,f,e,o,s){var l;return'<nav id="'+r.escapeExpression((l=(l=e.MenuName||(f!=n?f.MenuName:f))!=n?l:e.helperMissing,typeof l===t?l.call(f!=n?f:r.nullContext||{},{name:i,hash:{},data:s}):l))+c+r.escapeExpression((l=(l=e.TextDirection||(f!=n?f.TextDirection:f))!=n?l:e.helperMissing,typeof l===t?l.call(f!=n?f:r.nullContext||{},{name:h,hash:{},data:s}):l))+u},"3":function(r,f,e,o,l){var a;return s+r.escapeExpression((a=(a=e.MenuName||(f!=n?f.MenuName:f))!=n?a:e.helperMissing,typeof a===t?a.call(f!=n?f:r.nullContext||{},{name:i,hash:{},data:l}):a))+c+r.escapeExpression((a=(a=e.TextDirection||(f!=n?f.TextDirection:f))!=n?a:e.helperMissing,typeof a===t?a.call(f!=n?f:r.nullContext||{},{name:h,hash:{},data:l}):a))+u},"5":function(){return"iOS"},"7":function(i,r,e,o,s){var c,h;return'<li class="submenu"><h2 class="submenu-header proxybgcolor color'+i.escapeExpression(i.lambda((c=s&&s.root)&&c.SubjectColor,r))+' lighten70" title="'+i.escapeExpression((h=(h=e.Name||(r!=n?r.Name:r))!=n?h:e.helperMissing,typeof h===t?h.call(r!=n?r:i.nullContext||{},{name:f,hash:{},data:s}):h))+u+i.escapeExpression((h=(h=e.Name||(r!=n?r.Name:r))!=n?h:e.helperMissing,typeof h===t?h.call(r!=n?r:i.nullContext||{},{name:f,hash:{},data:s}):h))+'<\/h2><ul aria-label="'+i.escapeExpression((h=(h=e.Name||(r!=n?r.Name:r))!=n?h:e.helperMissing,typeof h===t?h.call(r!=n?r:i.nullContext||{},{name:f,hash:{},data:s}):h))+u+((c=e.each.call(r!=n?r:i.nullContext||{},r!=n?r.MenuItems:r,{name:"each",hash:{},fn:i.program(8,s,0),inverse:i.noop,data:s}))!=n?c:"")+"<\/ul><\/li>"},"8":function(i,o,s,h,c){var v,a;return'<li class="menuitem">'+((v=s[r].call(o!=n?o:i.nullContext||{},(v=c&&c.root)&&v.IsNav,{name:r,hash:{},fn:i.program(9,c,0),inverse:i.program(11,c,0),data:c}))!=n?v:"")+'<svg focusable="false" class="menuitem-icon proxyfillcolor color'+i.escapeExpression(i.lambda((v=c&&c.root)&&v.SubjectColor,o))+l+i.escapeExpression((s.referenceSvg||o&&o.referenceSvg||s.helperMissing).call(o!=n?o:i.nullContext||{},o!=n?o.Icon:o,{name:e,hash:{},data:c}))+'<\/svg><div class="menuitem-label" title="'+i.escapeExpression((a=(a=s.Name||(o!=n?o.Name:o))!=n?a:s.helperMissing,typeof a===t?a.call(o!=n?o:i.nullContext||{},{name:f,hash:{},data:c}):a))+u+i.escapeExpression((a=(a=s.Name||(o!=n?o.Name:o))!=n?a:s.helperMissing,typeof a===t?a.call(o!=n?o:i.nullContext||{},{name:f,hash:{},data:c}):a))+"<\/div>"+((v=s[r].call(o!=n?o:i.nullContext||{},(v=c&&c.root)&&v.IsNav,{name:r,hash:{},fn:i.program(13,c,0),inverse:i.program(15,c,0),data:c}))!=n?v:"")+"<\/li>"},"9":function(i,r,u,f,e){var s,o;return'<a class="'+i.escapeExpression(i.lambda((s=e&&e.root)&&s.MenuName,r))+' menuitem-content" href="'+i.escapeExpression((o=(o=u.Link||(r!=n?r.Link:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"Link",hash:{},data:e}):o))+'" '+((s=(o=(o=u.DataAttributes||(r!=n?r.DataAttributes:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"DataAttributes",hash:{},data:e}):o))!=n?s:"")+">"},"11":function(i,r,u,f,e){var h,o;return s+i.escapeExpression((o=(o=u.Id||(r!=n?r.Id:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"Id",hash:{},data:e}):o))+"_"+i.escapeExpression(i.lambda((h=e&&e.root)&&h.MenuName,r))+"_"+i.escapeExpression((o=(o=u.index||e&&e.index)!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"index",hash:{},data:e}):o))+'" class="'+i.escapeExpression(i.lambda((h=e&&e.root)&&h.MenuName,r))+" menuitem-content "+i.escapeExpression((o=(o=u.Id||(r!=n?r.Id:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"Id",hash:{},data:e}):o))+'" tabindex="0" role="button" title="">'},"13":function(){return"<\/a>"},"15":function(i,r,u,f,e){var o;return'<img class="jqHidden shortcutImage '+i.escapeExpression((o=(o=u.Id||(r!=n?r.Id:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"Id",hash:{},data:e}):o))+'" src="'+i.escapeExpression((u.makeStaticLink||r&&r.makeStaticLink||u.helperMissing).call(r!=n?r:i.nullContext||{},"images/circle_check_icon.svg",{name:"makeStaticLink",hash:{},data:e}))+'"/><\/div>'},"17":function(){return"<\/nav>"},"19":function(){return"<\/div>"},useData:!0})}(),function(){var u='<\/span><span class="clearlabel">',f="highlightString",e='"><span aria-hidden="true">',o='<span class="menuitem-label" title="',i="Name",t="function",n=null,s=Handlebars.template,r=$$WP.Templates=$$WP.Templates||{};r=r.Navigation=r.Navigation||{};r.MenuSearch=s({compiler:[7,">= 4.0.0"],main:function(i,r,u,f,e){var s,o;return i.escapeExpression((u.setStringNamespace||r&&r.setStringNamespace||u.helperMissing).call(r!=n?r:i.nullContext||{},"Navigation.Menu",{name:"setStringNamespace",hash:{},data:e}))+'<ul class="menusearch-mainmenulist" aria-label="Main menu">'+((s=u.each.call(r!=n?r:i.nullContext||{},r!=n?r.Submenus:r,{name:"each",hash:{},fn:i.program(1,e,0),inverse:i.noop,data:e}))!=n?s:"")+"<\/ul>"+i.escapeExpression((o=(o=u.clearStringNamespace||(r!=n?r.clearStringNamespace:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"clearStringNamespace",hash:{},data:e}):o))},"1":function(r,u,f,e,o){var h,s;return'<li class="submenu"><h2 class="submenu-header proxybgcolor color'+r.escapeExpression(r.lambda((h=o&&o.root)&&h.SubjectColor,u))+' lighten70">'+r.escapeExpression((s=(s=f.Name||(u!=n?u.Name:u))!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:r.nullContext||{},{name:i,hash:{},data:o}):s))+'<\/h2><ul aria-label="'+r.escapeExpression((s=(s=f.Name||(u!=n?u.Name:u))!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:r.nullContext||{},{name:i,hash:{},data:o}):s))+'">'+((h=f.each.call(u!=n?u:r.nullContext||{},u!=n?u.MenuItems:u,{name:"each",hash:{},fn:r.program(2,o,0),inverse:r.noop,data:o}))!=n?h:"")+"<\/ul><\/li>"},"2":function(t,i,r,u,f){var o="if",e;return'<li class="menuitem '+((e=r[o].call(i!=n?i:t.nullContext||{},i!=n?i.MatchIsSynonym:i,{name:o,hash:{},fn:t.program(3,f,0),inverse:t.noop,data:f}))!=n?e:"")+'">'+((e=r[o].call(i!=n?i:t.nullContext||{},(e=f&&f.root)&&e.IsNav,{name:o,hash:{},fn:t.program(5,f,0),inverse:t.program(7,f,0),data:f}))!=n?e:"")+'<svg focusable="false" class="menuitem-icon proxyfillcolor color'+t.escapeExpression(t.lambda((e=f&&f.root)&&e.SubjectColor,i))+'" aria-hidden="true">'+t.escapeExpression((r.referenceSvg||i&&i.referenceSvg||r.helperMissing).call(i!=n?i:t.nullContext||{},i!=n?i.Icon:i,{name:"referenceSvg",hash:{},data:f}))+'<\/svg><div class="menuitem-labelflexcontainer">'+((e=r[o].call(i!=n?i:t.nullContext||{},i!=n?i.MatchIsSynonym:i,{name:o,hash:{},fn:t.program(9,f,0),inverse:t.program(11,f,0),data:f}))!=n?e:"")+"<\/div>"+((e=r[o].call(i!=n?i:t.nullContext||{},(e=f&&f.root)&&e.IsNav,{name:o,hash:{},fn:t.program(13,f,0),inverse:t.program(15,f,0),data:f}))!=n?e:"")+"<\/li>"},"3":function(){return"menuitem-searchsynonymmatch"},"5":function(i,r,u,f,e){var s,o;return'<a class="'+i.escapeExpression(i.lambda((s=e&&e.root)&&s.MenuName,r))+' menuitem-content" href="'+i.escapeExpression((o=(o=u.Link||(r!=n?r.Link:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"Link",hash:{},data:e}):o))+'" '+((s=(o=(o=u.DataAttributes||(r!=n?r.DataAttributes:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"DataAttributes",hash:{},data:e}):o))!=n?s:"")+">"},"7":function(i,r,u,f,e){var s,o;return'<div id="'+i.escapeExpression((o=(o=u.Id||(r!=n?r.Id:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"Id",hash:{},data:e}):o))+"_"+i.escapeExpression(i.lambda((s=e&&e.root)&&s.MenuName,r))+"_search_"+i.escapeExpression((o=(o=u.index||e&&e.index)!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"index",hash:{},data:e}):o))+'" class="'+i.escapeExpression(i.lambda((s=e&&e.root)&&s.MenuName,r))+" menuitem-content "+i.escapeExpression((o=(o=u.Id||(r!=n?r.Id:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"Id",hash:{},data:e}):o))+'" tabindex="0" role="button" title="">'},"9":function(r,s,h,c,l){var v="@MYCHART@SYNONYMMATCH@",a;return o+r.escapeExpression((a=(a=h.Name||(s!=n?s.Name:s))!=n?a:h.helperMissing,typeof a===t?a.call(s!=n?s:r.nullContext||{},{name:i,hash:{},data:l}):a))+'">'+r.escapeExpression((a=(a=h.Name||(s!=n?s.Name:s))!=n?a:h.helperMissing,typeof a===t?a.call(s!=n?s:r.nullContext||{},{name:i,hash:{},data:l}):a))+'<\/span><div class="menuitem-searchsynonym subtle" title="'+r.escapeExpression((a=(a=h.SynonymMatch||(s!=n?s.SynonymMatch:s))!=n?a:h.helperMissing,typeof a===t?a.call(s!=n?s:r.nullContext||{},{name:"SynonymMatch",hash:{},data:l}):a))+e+r.escapeExpression((h.highlightString||s&&s.highlightString||h.helperMissing).call(s!=n?s:r.nullContext||{},s!=n?s.SynonymMatch:s,s!=n?s.RangesToMark:s,{name:f,hash:{},data:l}))+u+r.escapeExpression((h.addStringResourceMnemonic||s&&s.addStringResourceMnemonic||h.helperMissing).call(s!=n?s:r.nullContext||{},v,s!=n?s.SynonymMatch:s,{name:"addStringResourceMnemonic",hash:{},data:l}))+r.escapeExpression((h.getDisplayString||s&&s.getDisplayString||h.helperMissing).call(s!=n?s:r.nullContext||{},"MenuSearchSynonymMatch",{name:"getDisplayString",hash:{},data:l}))+r.escapeExpression((h.removeStringResourceMnemonic||s&&s.removeStringResourceMnemonic||h.helperMissing).call(s!=n?s:r.nullContext||{},v,{name:"removeStringResourceMnemonic",hash:{},data:l}))+"<\/span><\/div>"},"11":function(r,s,h,c,l){var a;return o+r.escapeExpression((a=(a=h.Name||(s!=n?s.Name:s))!=n?a:h.helperMissing,typeof a===t?a.call(s!=n?s:r.nullContext||{},{name:i,hash:{},data:l}):a))+e+r.escapeExpression((h.highlightString||s&&s.highlightString||h.helperMissing).call(s!=n?s:r.nullContext||{},s!=n?s.Name:s,s!=n?s.RangesToMark:s,{name:f,hash:{},data:l}))+u+r.escapeExpression((a=(a=h.Name||(s!=n?s.Name:s))!=n?a:h.helperMissing,typeof a===t?a.call(s!=n?s:r.nullContext||{},{name:i,hash:{},data:l}):a))+"<\/span><\/span>"},"13":function(){return"<\/a>"},"15":function(i,r,u,f,e){var o;return'<img class="jqHidden shortcutImage '+i.escapeExpression((o=(o=u.Id||(r!=n?r.Id:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"Id",hash:{},data:e}):o))+'" src="'+i.escapeExpression((u.makeStaticLink||r&&r.makeStaticLink||u.helperMissing).call(r!=n?r:i.nullContext||{},"images/circle_check_icon.svg",{name:"makeStaticLink",hash:{},data:e}))+'"/><\/div>'},useData:!0})}(),function(){var f='<\/svg><\/span><span class="proxySelectorDropDownName"><div class="proxySelectorDropDownNameEllipsis">',e="referenceSvg",o="makeLink",c='<li role="menuitem" tabindex="-1" class="proxySubjectListItem borderedListItem" title="',s="getDisplayString",h="ifGt",l="roundPatientIcon",r="function",i="",t="if",n=null,a=Handlebars.template,u=$$WP.Templates=$$WP.Templates||{};u=u.ProxySwitch=u.ProxySwitch||{};u.DropDownProxySelector=a({compiler:[7,">= 4.0.0"],main:function(u,f,e,o,s){var c,a;return u.escapeExpression((e.setStringNamespace||f&&f.setStringNamespace||e.helperMissing).call(f!=n?f:u.nullContext||{},"ProxySwitch.ProxySwitch.ProxySelector",{name:"setStringNamespace",hash:{},data:s}))+'<div  class="'+((c=e[t].call(f!=n?f:u.nullContext||{},f!=n?f.ShowDropDown:f,{name:t,hash:{},fn:u.program(1,s,0),inverse:u.noop,data:s}))!=n?c:i)+' proxySelectorDropDownContainer"><button id="proxyMenuButton" '+((c=e[t].call(f!=n?f:u.nullContext||{},f!=n?f.ShowDropDown:f,{name:t,hash:{},fn:u.program(3,s,0),inverse:u.noop,data:s}))!=n?c:i)+((c=e[t].call(f!=n?f:u.nullContext||{},f!=n?f.IsGuest:f,{name:t,hash:{},fn:u.program(5,s,0),inverse:u.noop,data:s}))!=n?c:i)+'class="proxyButton color'+u.escapeExpression(u.lambda((c=f!=n?f.CurrentlySelected:f)!=n?c.TabColor:c,f))+((c=e[t].call(f!=n?f:u.nullContext||{},f!=n?f.IsGuest:f,{name:t,hash:{},fn:u.program(7,s,0),inverse:u.noop,data:s}))!=n?c:i)+'" title="'+u.escapeExpression((a=(a=e.ButtonTitleText||(f!=n?f.ButtonTitleText:f))!=n?a:e.helperMissing,typeof a===r?a.call(f!=n?f:u.nullContext||{},{name:"ButtonTitleText",hash:{},data:s}):a))+'"  aria-controls="proxyList" type="button" aria-haspopup="true"><span class="patientPhotoContainer">'+((c=u.invokePartial(o.roundPatientIcon,f!=n?f.CurrentlySelected:f,{name:l,data:s,helpers:e,partials:o,decorators:u.decorators}))!=n?c:i)+'<\/span><div aria-hidden="true" class="namePlusChevron"><div class="currentlySelectedName proxytextcolor color'+u.escapeExpression(u.lambda((c=f!=n?f.CurrentlySelected:f)!=n?c.TabColor:c,f))+'"><span dir="ltr" class="currentlySelectedNameInner">'+u.escapeExpression(u.lambda((c=f!=n?f.CurrentlySelected:f)!=n?c.DisplayNameLabel:c,f))+"<\/span>"+((c=e[t].call(f!=n?f:u.nullContext||{},f!=n?f.ShowDropDown:f,{name:t,hash:{},fn:u.program(9,s,0),inverse:u.noop,data:s}))!=n?c:i)+"<\/div>"+((c=(e.ifGt||f&&f.ifGt||e.helperMissing).call(f!=n?f:u.nullContext||{},(c=f!=n?f.ProxySubjectList:f)!=n?c.length:c,1,{name:h,hash:{},fn:u.program(12,s,0),inverse:u.noop,data:s}))!=n?c:i)+"<\/div><\/button>"+((c=e[t].call(f!=n?f:u.nullContext||{},f!=n?f.ShowDropDown:f,{name:t,hash:{},fn:u.program(14,s,0),inverse:u.noop,data:s}))!=n?c:i)+"<\/div>"+u.escapeExpression((a=(a=e.clearStringNamespace||(f!=n?f.clearStringNamespace:f))!=n?a:e.helperMissing,typeof a===r?a.call(f!=n?f:u.nullContext||{},{name:"clearStringNamespace",hash:{},data:s}):a))+" "},"1":function(){return"withDropdown "},"3":function(){return'aria-expanded="false"'},"5":function(){return'tabindex="-1"'},"7":function(){return" guestNotAButton"},"9":function(t,r,u,f,e){var o;return(o=(u.ifEquals||r&&r.ifEquals||u.helperMissing).call(r!=n?r:t.nullContext||{},(o=r!=n?r.ProxySubjectList:r)!=n?o.length:o,1,{name:"ifEquals",hash:{},fn:t.program(10,e,0),inverse:t.noop,data:e}))!=n?o:i},"10":function(){return'<span class="switchPatientsTextOuter"><\/span>'},"12":function(t,i,r,u,f){return'<span class="switchPatientsTextOuter"><span class="switchPatientsText">'+t.escapeExpression((r.getDisplayString||i&&i.getDisplayString||r.helperMissing).call(i!=n?i:t.nullContext||{},"switchPatientsButtonText",{name:s,hash:{},data:f}))+"<\/span><\/span>"},"14":function(u,s,l,a,v){var w="HomeMenuTitleText",b='" aria-hidden="true">',k='"><span aria-hidden="true" focusable="false" class="proxySelectorDropDownPhotoContainer"><svg focusable="false" class="proxyfillcolor color',d='"><a class="proxySubjectLink currentContext" href="',g='" aria-label="',nt="ChangeShortcutsTitleText",p,y;return'<div id="proxyMenuShield" aria-hidden="true" class="jqHidden"><\/div><nav id="proxySwitchNav" aria-modal="true"><ul role="menu" id="proxyList" class="dropdown-menu" aria-modal="true">'+((p=(l.ifGt||s&&s.ifGt||l.helperMissing).call(s!=n?s:u.nullContext||{},(p=s!=n?s.ProxySubjectList:s)!=n?p.length:p,1,{name:h,hash:{},fn:u.program(15,v,0),inverse:u.noop,data:v}))!=n?p:i)+'<ul role="menu" '+((p=(l.ifGt||s&&s.ifGt||l.helperMissing).call(s!=n?s:u.nullContext||{},(p=s!=n?s.ProxySubjectList:s)!=n?p.length:p,1,{name:h,hash:{},fn:u.program(29,v,0),inverse:u.noop,data:v}))!=n?p:i)+" >"+((p=l[t].call(s!=n?s:u.nullContext||{},s!=n?s.ShowPhotoUpload:s,{name:t,hash:{},fn:u.program(31,v,0),inverse:u.noop,data:v}))!=n?p:i)+c+u.escapeExpression((y=(y=l.ChangeShortcutsTitleText||(s!=n?s.ChangeShortcutsTitleText:s))!=n?y:l.helperMissing,typeof y===r?y.call(s!=n?s:u.nullContext||{},{name:nt,hash:{},data:v}):y))+g+u.escapeExpression((y=(y=l.ChangeShortcutsTitleText||(s!=n?s.ChangeShortcutsTitleText:s))!=n?y:l.helperMissing,typeof y===r?y.call(s!=n?s:u.nullContext||{},{name:nt,hash:{},data:v}):y))+d+u.escapeExpression((l.makeLink||s&&s.makeLink||l.helperMissing).call(s!=n?s:u.nullContext||{},"Menu/ChangeShortcuts",{name:o,hash:{},data:v}))+k+u.escapeExpression(u.lambda((p=s!=n?s.CurrentlySelected:s)!=n?p.TabColor:p,s))+b+u.escapeExpression((l.referenceSvg||s&&s.referenceSvg||l.helperMissing).call(s!=n?s:u.nullContext||{},"library.svg#menu_changeshortcuts",{name:e,hash:{},data:v}))+f+u.escapeExpression((y=(y=l.ChangeShortcutsMenuText||(s!=n?s.ChangeShortcutsMenuText:s))!=n?y:l.helperMissing,typeof y===r?y.call(s!=n?s:u.nullContext||{},{name:"ChangeShortcutsMenuText",hash:{},data:v}):y))+'<\/div><\/span><\/a><\/li><li role="menuitem" tabindex="-1" class="proxySubjectListItem borderedListItem" title="'+u.escapeExpression((y=(y=l.HomeMenuTitleText||(s!=n?s.HomeMenuTitleText:s))!=n?y:l.helperMissing,typeof y===r?y.call(s!=n?s:u.nullContext||{},{name:w,hash:{},data:v}):y))+g+u.escapeExpression((y=(y=l.HomeMenuTitleText||(s!=n?s.HomeMenuTitleText:s))!=n?y:l.helperMissing,typeof y===r?y.call(s!=n?s:u.nullContext||{},{name:w,hash:{},data:v}):y))+d+u.escapeExpression((l.makeLink||s&&s.makeLink||l.helperMissing).call(s!=n?s:u.nullContext||{},"Home",{name:o,hash:{},data:v}))+k+u.escapeExpression(u.lambda((p=s!=n?s.CurrentlySelected:s)!=n?p.TabColor:p,s))+b+u.escapeExpression((l.referenceSvg||s&&s.referenceSvg||l.helperMissing).call(s!=n?s:u.nullContext||{},"library.svg#home",{name:e,hash:{},data:v}))+f+u.escapeExpression((y=(y=l.HomeMenuText||(s!=n?s.HomeMenuText:s))!=n?y:l.helperMissing,typeof y===r?y.call(s!=n?s:u.nullContext||{},{name:"HomeMenuText",hash:{},data:v}):y))+"<\/div><\/span><\/a><\/li><\/ul><\/ul><\/nav>"},"15":function(t,r,u,f,e){var o;return(o=u.each.call(r!=n?r:t.nullContext||{},r!=n?r.ProxySubjectList:r,{name:"each",hash:{},fn:t.program(16,e,0),inverse:t.noop,data:e}))!=n?o:i},"16":function(u,f,e,o,s){var c,h;return'<li role="menuitem" tabindex="-1" title="'+u.escapeExpression((h=(h=e.TitleText||(f!=n?f.TitleText:f))!=n?h:e.helperMissing,typeof h===r?h.call(f!=n?f:u.nullContext||{},{name:"TitleText",hash:{},data:s}):h))+"&nbsp; "+((c=(e.isLastInArray||f&&f.isLastInArray||e.helperMissing).call(f!=n?f:u.nullContext||{},s&&s.index,(c=(c=s&&s.root)&&c.ProxySubjectList)&&c.length,{name:"isLastInArray",hash:{},fn:u.program(17,s,0),inverse:u.noop,data:s}))!=n?c:i)+'"  class="proxySubjectListItem" ><a '+((c=e[t].call(f!=n?f:u.nullContext||{},f!=n?f.IsSelected:f,{name:t,hash:{},fn:u.program(19,s,0),inverse:u.program(21,s,0),data:s}))!=n?c:i)+' class="'+((c=e[t].call(f!=n?f:u.nullContext||{},f!=n?f.IsSelected:f,{name:t,hash:{},fn:u.program(23,s,0),inverse:u.noop,data:s}))!=n?c:i)+" color"+u.escapeExpression((h=(h=e.TabColor||(f!=n?f.TabColor:f))!=n?h:e.helperMissing,typeof h===r?h.call(f!=n?f:u.nullContext||{},{name:"TabColor",hash:{},data:s}):h))+' proxySubjectLink"   href='+((c=e[t].call(f!=n?f:u.nullContext||{},f!=n?f.IsSelected:f,{name:t,hash:{},fn:u.program(25,s,0),inverse:u.program(27,s,0),data:s}))!=n?c:i)+' ><span aria-hidden="true"  class="proxySelectorDropDownPhotoContainer">'+((c=u.invokePartial(o.roundPatientIcon,f,{name:l,data:s,helpers:e,partials:o,decorators:u.decorators}))!=n?c:i)+'<\/span><div class="proxySelectorDropDownName"><span aria-hidden="true" dir="ltr" class="proxySelectorDropDownNameEllipsis">'+u.escapeExpression((h=(h=e.DisplayNameLabel||(f!=n?f.DisplayNameLabel:f))!=n?h:e.helperMissing,typeof h===r?h.call(f!=n?f:u.nullContext||{},{name:"DisplayNameLabel",hash:{},data:s}):h))+"<\/span><\/div><\/a><\/li>"},"17":function(t,i,r,u,f){return t.escapeExpression((r.getDisplayString||i&&i.getDisplayString||r.helperMissing).call(i!=n?i:t.nullContext||{},"lastPersonInList",{name:s,hash:{},data:f}))+"&nbsp;"},"19":function(){return'data-closedropdown="true" data-switchpatients="false"'},"21":function(){return'data-closedropdown="false" data-switchpatients="true"'},"23":function(){return"currentContext opacity30 proxybgcolor"},"25":function(){return' "#" '},"27":function(t,i,r,u,f){return t.escapeExpression((r.makeLink||i&&i.makeLink||r.helperMissing).call(i!=n?i:t.nullContext||{},i!=n?i.LinkUrl:i,{name:o,hash:{},data:f}))},"29":function(t,i,r,u,f){return" aria-label='"+t.escapeExpression((r.getDisplayString||i&&i.getDisplayString||r.helperMissing).call(i!=n?i:t.nullContext||{},"additionalMenuOptions",{name:s,hash:{},data:f}))+"' "},"31":function(t,i,u,o,s){var a="PhotoUploadMenuTitleText",l,h;return c+t.escapeExpression((h=(h=u.PhotoUploadMenuTitleText||(i!=n?i.PhotoUploadMenuTitleText:i))!=n?h:u.helperMissing,typeof h===r?h.call(i!=n?i:t.nullContext||{},{name:a,hash:{},data:s}):h))+'" id="patientPhotoListItem" aria-label="'+t.escapeExpression((h=(h=u.PhotoUploadMenuTitleText||(i!=n?i.PhotoUploadMenuTitleText:i))!=n?h:u.helperMissing,typeof h===r?h.call(i!=n?i:t.nullContext||{},{name:a,hash:{},data:s}):h))+'" data-closedropdown="true" ><a data-function=\'upload\' class="proxySubjectLink currentContext" href="#"><span aria-hidden="true" focusable="false" class="proxySelectorDropDownPhotoContainer"><svg focusable="false" class="proxyfillcolor color'+t.escapeExpression(t.lambda((l=i!=n?i.CurrentlySelected:i)!=n?l.TabColor:l,i))+'" >'+t.escapeExpression((u.referenceSvg||i&&i.referenceSvg||u.helperMissing).call(i!=n?i:t.nullContext||{},"library.svg#proxyswitch_uploadimage",{name:e,hash:{},data:s}))+f+t.escapeExpression((h=(h=u.PhotoUploadMenuText||(i!=n?i.PhotoUploadMenuText:i))!=n?h:u.helperMissing,typeof h===r?h.call(i!=n?i:t.nullContext||{},{name:"PhotoUploadMenuText",hash:{},data:s}):h))+'<\/div><\/span><\/a><div class="hidden"><input type="file" id="patientPhotoFileInput" class="upload-input hidden" data-function="upload-core" accept="image/*" /><\/div><\/li>'},usePartial:!0,useData:!0})}(),function(){var r="FirstLetter",t="function",n=null,u=Handlebars.template,i=$$WP.Templates=$$WP.Templates||{};i=i.ProxySwitch=i.ProxySwitch||{};i.PatientRoundIcon=u({compiler:[7,">= 4.0.0"],main:function(i,r,u,f,e){var s,o;return' <div  class="roundedPatientPhoto proxybgcolor proxybordercolor color'+i.escapeExpression((o=(o=u.TabColor||(r!=n?r.TabColor:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"TabColor",hash:{},data:e}):o))+((s=u.unless.call(r!=n?r:i.nullContext||{},r!=n?r.PhotoUrl:r,{name:"unless",hash:{},fn:i.program(1,e,0),inverse:i.noop,data:e}))!=n?s:"")+'">'+((s=u["if"].call(r!=n?r:i.nullContext||{},r!=n?r.PhotoUrl:r,{name:"if",hash:{},fn:i.program(3,e,0),inverse:i.program(5,e,0),data:e}))!=n?s:"")+"<\/div> "},"1":function(){return" noBorder"},"3":function(i,u,f,e,o){var s;return"<img src="+i.escapeExpression((s=(s=f.PhotoUrl||(u!=n?u.PhotoUrl:u))!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:i.nullContext||{},{name:"PhotoUrl",hash:{},data:o}):s))+" alt=\"\" onerror=\"$afe.jq(this).parent().addClass('noBorder');  $afe.jq(this).replaceWith('<span  aria-hidden=\\'true\\' >"+i.escapeExpression((s=(s=f.FirstLetter||(u!=n?u.FirstLetter:u))!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:i.nullContext||{},{name:r,hash:{},data:o}):s))+"<\/span>');\" />"},"5":function(i,u,f,e,o){var s;return'<span aria-hidden="true">'+i.escapeExpression((s=(s=f.FirstLetter||(u!=n?u.FirstLetter:u))!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:i.nullContext||{},{name:r,hash:{},data:o}):s))+"<\/span>"},useData:!0})}(),function(){var i="addTemplate",n=null,r=Handlebars.template,t=$$WP.Templates=$$WP.Templates||{};t=t.Upload=t.Upload||{};t.UploadContainer=r({compiler:[7,">= 4.0.0"],main:function(t,r,u,f,e){var o;return'<div data-block="upload"><div class="cardlist column_2 upload-cardlist hoverable matchHeights">'+((o=u.each.call(r!=n?r:t.nullContext||{},r!=n?r.Documents:r,{name:"each",hash:{},fn:t.program(1,e,0),inverse:t.noop,data:e}))!=n?o:"")+t.escapeExpression((u.addTemplate||r&&r.addTemplate||u.helperMissing).call(r!=n?r:t.nullContext||{},"Upload.UploadCard",r,{name:i,hash:{},data:e}))+'<\/div><div class="hidden"><input type="file" class="upload-input hidden" data-function="upload-core" accept="'+t.escapeExpression(t.lambda((o=r!=n?r.Configuration:r)!=n?o.AllowedExtensionsForInput:o,r))+'" multiple="multiple" /><\/div><\/div>'},"1":function(t,r,u,f,e){return t.escapeExpression((u.addTemplate||r&&r.addTemplate||u.helperMissing).call(r!=n?r:t.nullContext||{},"Upload.UploadedFileCard",r,{name:i,hash:{},data:e}))},useData:!0})}(),function(){var e='"><span class="vcenter"><span class="addlabel upload--add-file-label upload--document-icon" aria-hidden="true">',r="<\/span><\/span><\/a>",o='"><span class="vcenter"><span class="addlabel upload--add-file-label upload--uploading-icon" aria-hidden="true">',t="getStringResource",u='<a role="button" href="#" data-id="additem" aria-label="',n=null,i="if",s=Handlebars.template,f=$$WP.Templates=$$WP.Templates||{};f=f.Upload=f.Upload||{};f.UploadCard=s({compiler:[7,">= 4.0.0"],main:function(t,r,u,f,e){var o;return'<div class="card addItem upload-addFile" '+((o=u[i].call(r!=n?r:t.nullContext||{},r!=n?r.CanUpload:r,{name:i,hash:{},fn:t.program(1,e,0),inverse:t.noop,data:e}))!=n?o:"")+">"+((o=u[i].call(r!=n?r:t.nullContext||{},r!=n?r.IsConfigLoading:r,{name:i,hash:{},fn:t.program(3,e,0),inverse:t.program(5,e,0),data:e}))!=n?o:"")+"<\/div>"},"1":function(){return' data-function="upload" data-dragregion="1" '},"3":function(i,f,e,s,h){var c="LoadingConfigPrompt";return u+i.escapeExpression((e.getStringResource||f&&f.getStringResource||e.helperMissing).call(f!=n?f:i.nullContext||{},c,{name:t,hash:{},data:h}))+o+i.escapeExpression((e.getStringResource||f&&f.getStringResource||e.helperMissing).call(f!=n?f:i.nullContext||{},c,{name:t,hash:{},data:h}))+r},"5":function(t,r,u,f,e){var o;return(o=u[i].call(r!=n?r:t.nullContext||{},r!=n?r.IsLimitReached:r,{name:i,hash:{},fn:t.program(6,e,0),inverse:t.program(8,e,0),data:e}))!=n?o:""},"6":function(i,r,u,f,e){var o="UploadLimitReachedErrorMessage";return'<div class="card-center upload--limit-reached" aria-label="'+i.escapeExpression((u.getStringResource||r&&r.getStringResource||u.helperMissing).call(r!=n?r:i.nullContext||{},o,{name:t,hash:{},data:e}))+'"><div aria-hidden="true">'+i.escapeExpression((u.getStringResource||r&&r.getStringResource||u.helperMissing).call(r!=n?r:i.nullContext||{},o,{name:t,hash:{},data:e}))+"<\/div><\/div>"},"8":function(t,r,u,f,e){var o;return(o=u[i].call(r!=n?r:t.nullContext||{},r!=n?r.IsCurrentlyUploading:r,{name:i,hash:{},fn:t.program(9,e,0),inverse:t.program(11,e,0),data:e}))!=n?o:""},"9":function(i,f,e,s,h){var c="UploadingFilePrompt";return u+i.escapeExpression((e.getStringResource||f&&f.getStringResource||e.helperMissing).call(f!=n?f:i.nullContext||{},c,{name:t,hash:{},data:h}))+o+i.escapeExpression((e.getStringResource||f&&f.getStringResource||e.helperMissing).call(f!=n?f:i.nullContext||{},c,{name:t,hash:{},data:h}))+r},"11":function(t,r,u,f,e){var o;return(o=u[i].call(r!=n?r:t.nullContext||{},r!=n?r.Documents:r,{name:i,hash:{},fn:t.program(12,e,0),inverse:t.program(14,e,0),data:e}))!=n?o:""},"12":function(i,f,o,s,h){var c="UploadAnotherFilePrompt";return u+i.escapeExpression((o.getStringResource||f&&f.getStringResource||o.helperMissing).call(f!=n?f:i.nullContext||{},c,{name:t,hash:{},data:h}))+e+i.escapeExpression((o.getStringResource||f&&f.getStringResource||o.helperMissing).call(f!=n?f:i.nullContext||{},c,{name:t,hash:{},data:h}))+r},"14":function(i,f,o,s,h){var c="UploadFilePrompt";return u+i.escapeExpression((o.getStringResource||f&&f.getStringResource||o.helperMissing).call(f!=n?f:i.nullContext||{},c,{name:t,hash:{},data:h}))+e+i.escapeExpression((o.getStringResource||f&&f.getStringResource||o.helperMissing).call(f!=n?f:i.nullContext||{},c,{name:t,hash:{},data:h}))+r},useData:!0})}(),function(){var n=null,t;$$WP.Utilities.guaranteeExistence($$WP,"Navigation.Models");t=function(n){var t=this,i,u,r,f;for(t.WP$Common$Model(n),i=0;i<t.Submenus.length;i++)u=new $$WP.Navigation.Models.Submenu(t.Submenus[i]),t.Submenus[i]=u;for(t.Submenus=t.Submenus.filter(function(n){return n.MenuItems.length>0}),r=0;r<t.Shortcuts.length;r++)f=new $$WP.Navigation.Models.MenuItem(t.Shortcuts[r]),t.Shortcuts[r]=f};t.prototype={s_dataMembers:["SubjectColor","MenuDisplayName","ButtonDisplayName","Submenus","Shortcuts","TextDirection","IsNav"],SubjectColor:n,MenuDisplayName:n,ButtonDisplayName:n,Submenus:n,Shortcuts:n,TextDirection:n,IsNav:n};$$WP.Navigation.Models.Menu=t;t.extend($$WP.Common.Model,"WP$Navigation$Models$Menu")}(),function(){$$WP.Utilities.guaranteeExistence($$WP,"Navigation.Models");var n=function(n){var t=this,i,r;for(t.WP$Common$Model(n),i=0;i<t.MenuItems.length;i++)r=new $$WP.Navigation.Models.MenuItem(t.MenuItems[i]),t.MenuItems[i]=r;t.MenuItems=t.MenuItems.filter($$WP.Navigation.Models.MenuItem.isValidMenuItem)};n.prototype={s_dataMembers:["Name","MenuItems"],Name:null,MenuItems:null};$$WP.Navigation.Models.Submenu=n;n.extend($$WP.Common.Model,"WP$Navigation$Models$Submenu")}(),function(){var n=null,t,i;$$WP.Utilities.guaranteeExistence($$WP,"Navigation.Models");t=function(n){this.WP$Common$Model(n);this.__makeMenuItemLink()};t.prototype={s_dataMembers:["Id","Name","NameWithoutDiacritics","Link","Icon","Synonyms","SynonymsWithoutDiacritics","DataAttributes"],Id:n,Name:n,NameWithoutDiacritics:n,Link:n,Icon:n,Synonyms:n,SynonymsWithoutDiacritics:n,DataAttributes:n,__makeMenuItemLink:function(){var n=this;return n.Link?(n.Link!=="#"&&(n.Link=makeLink(n.Link)),!0):!1}};i=function(t){return t.Link!==n};$$WP.Navigation.Models.MenuItem=t;t.extend($$WP.Common.Model,"WP$Navigation$Models$MenuItem");$$WP.Navigation.Models.MenuItem.isValidMenuItem=i}(),function(){var n=null,t;$$WP.Utilities.guaranteeExistence($$WP,"Navigation.Models");t=function(n,t){var i=this;i.WP$Common$Model(n);i.Submenus=[];i.TotalMatches=0;i._getSearchMenu(n,t)};t.prototype={s_dataMembers:["SubjectColor","IsNav","MenuName"],SubjectColor:n,IsNav:n,MenuName:n,Submenus:n,TotalMatches:n,_getSearchMenu:function(t,i){return this.__searchMenu(t,i),n},__searchMenu:function(n,t){for(var r,i=0;i<n.Submenus.length;i++)r=new $$WP.Navigation.Models.SearchSubmenu(n.Submenus[i],t),r.Matches>=1&&(this.Submenus.push(r),this.TotalMatches+=r.Matches)}};$$WP.Navigation.Models.SearchMenu=t;t.extend($$WP.Common.Model,"WP$Navigation$Models$SearchMenu")}(),function(){$$WP.Utilities.guaranteeExistence($$WP,"Navigation.Models");var n=function(n,t){var i=this;i.WP$Common$Model(n);i.MenuItems=[];i.Matches=0;i.__searchSubmenu(n,t)};n.prototype={s_dataMembers:["Name"],Name:null,MenuItems:null,Matches:null,__searchSubmenu:function(n,t){for(var r,i=0;i<n.MenuItems.length;i++)r=new $$WP.Navigation.Models.SearchMenuItem(n.MenuItems[i],t),r.IsMatch&&(this.MenuItems.push(r),this.Matches++)}};$$WP.Navigation.Models.SearchSubmenu=n;n.extend($$WP.Common.Model,"WP$Navigation$Models$SearchSubmenu")}(),function(){var n=null,t=!0,i;$$WP.Utilities.guaranteeExistence($$WP,"Navigation.Models");i=function(n,i){var r=this;r.WP$Common$Model(n);r.RangesToMark=[];r.MatchIsSynonym=!1;r.IsMatch=!1;r.__searchMenuItem(n,i)&&(r.IsMatch=t)};i.prototype={s_dataMembers:["Id","Name","Link","Icon","DataAttributes"],Id:n,Name:n,Link:n,Icon:n,DataAttributes:n,IsMatch:n,MatchIsSynonym:n,RangesToMark:n,SynonymMatch:n,__searchMenuItem:function(n,i){var r=this,u=r.__getSearchMatchIndex(i,n.Name),f;if(u=Math.max(r.__getSearchMatchIndex(i,n.Name),r.__getSearchMatchIndex(i,n.NameWithoutDiacritics)),u!==-1)return r.RangesToMark.push({start:u,end:u+i.length}),t;for(f=0,f;f<n.Synonyms.length;f++)if(u=Math.max(r.__getSearchMatchIndex(i,n.SynonymsWithoutDiacritics[f]),r.__getSearchMatchIndex(i,n.Synonyms[f])),u!==-1)return r.MatchIsSynonym=t,r.RangesToMark.push({start:u,end:u+i.length}),r.SynonymMatch=n.Synonyms[f],t;return!1},__getSearchMatchIndex:function(n,t){return t.toLowerCase().indexOf(n)}};$$WP.Navigation.Models.SearchMenuItem=i;i.extend($$WP.Common.Model,"WP$Navigation$Models$SearchMenuItem")}(),function(){var e="@MYCHART@ALLOWEDAREAS@",o="@MYCHART@SUBJECT_PATIENTNAME@",r="ServiceAreas",s="backToTheHomePageTitleText",t="",u=!1,i=!0,n=$$WP.Strings.getNamespace("ProxySwitch.ProxySwitch.ProxySelector"),f;$$WP.Utilities.guaranteeExistence($$WP,"ProxySwitch.Models");f=function(n){var t=this,r,u;for(t.WP$Common$Model(n),r=0;r<t.ProxySubjectList.length;r++)u=new $$WP.ProxySwitch.Models.ProxySubjectViewModel(t.ProxySubjectList[r]),t.ProxySubjectList[r]=u,t.ProxySubjectList[r].IsSelected&&(t.CurrentlySelected=t.ProxySubjectList[r]);t.ShowPhotoUpload===i&&(t.PhotoUploadMenuText=t._determinePhotoUploadText(),t.PhotoUploadMenuTitleText=t._determinePhotoUploadMenuTitleText());t.ButtonTitleText=t._determineButtonTitleText();t.ChangeShortcutsMenuText=t._determineChangeShortcutsMenuText();t.ChangeShortcutsTitleText=t._determineChangeShortcutsTitleText();t.HomeMenuText=t._determineHomeMenuText();t.HomeMenuTitleText=t._determineHomeMenuTitleText();t.ShowDropDown=!t.IsGuest};f.prototype={s_dataMembers:["ProxySubjectList","ShowPhotoUpload","IsGuest"],ProxySubjectList:null,CurrentlySelected:null,ShowPhotoUpload:u,PhotoUploadMenuText:t,ChangeShortcutsMenuText:t,ChangeShortcutsTitleText:t,HomeMenuText:t,ShowDropDown:u,ButtonTitleText:t,PhotoUploadMenuTitleText:t,IsGuest:u,resetPhotoUploadToFalse:function(){var n=this;n.ShowPhotoUpload=u;n.ButtonTitleText=n._determineButtonTitleText();n.ChangeShortcutsMenuText=n._determineChangeShortcutsMenuText();n.ChangeShortcutsTitleText=n._determineChangeShortcutsTitleText();n.HomeMenuText=n._determineHomeMenuText();n.HomeMenuTitleText=n._determineHomeMenuTitleText();n.ShowDropDown=n.ProxySubjectList.length>1},_determineButtonTitleText:function(){var t=this;return t.IsGuest?t.CurrentlySelected.TitleText:t.ProxySubjectList.length>1?t.CurrentlySelected.TitleText+"\n"+n.getString("selectToViewAnotherPersonsRecord"):t.ShowPhotoUpload?n.getString("uploadAPhotoTitleText"):n.getString(s)},_determinePhotoUploadMenuTitleText:function(){var u=this,f=t,e;return f=u.CurrentlySelected.IsSelf===i?u.CurrentlySelected.PhotoUrl?"changePhotoMenuItemTitleText":"addPhotoMenuItemTitleText":u.CurrentlySelected.PhotoUrl?"changeSubjectsPhotoMenuItemTitleText":"addSubjectsPhotoMenuItemTitleText",u.CurrentlySelected.ServiceAreaAbbreviationList&&(f+=r),u._addMnemonics(),e=n.getString(f),u._removeMnemonics(),e},_determinePhotoUploadText:function(){var u=this,f=t,e;return f=u.CurrentlySelected.IsSelf===i?u.CurrentlySelected.PhotoUrl?"changeMyPhotoMenuItem":"addMyPhotoMenuItem":u.CurrentlySelected.PhotoUrl?"changeSubjectsPhotoMenuItem":"addSubjectsPhotoMenuItem",u.CurrentlySelected.ServiceAreaAbbreviationList&&(f+=r),u._addMnemonics(),e=n.getString(f),u._removeMnemonics(),e},_determineChangeShortcutsMenuText:function(){var u=this,f=t,e;return f=u.CurrentlySelected.IsSelf===i?"myChangeShortcutsMenuItem":"otherPersonsChangeShortcutsMenuItem",u.CurrentlySelected.ServiceAreaAbbreviationList&&(f+=r),u._addMnemonics(),e=n.getString(f),u._removeMnemonics(),e},_determineChangeShortcutsTitleText:function(){var u=this,f=t,e;return f=u.CurrentlySelected.IsSelf===i?"myChangeShortcutsTitleText":"otherPersonsChangeShortcutsTitleText",u.CurrentlySelected.ServiceAreaAbbreviationList&&(f+=r),u._addMnemonics(),e=n.getString(f),u._removeMnemonics(),e},_determineHomeMenuText:function(){var u=this,f=t,e;return f=!u.ProxySubjectList||u.ProxySubjectList.length<=1?"homeMenuItem":u.CurrentlySelected.IsSelf===i?"myHomeMenuItem":"otherPersonsHomeMenuItem",u.CurrentlySelected.ServiceAreaAbbreviationList&&(f+=r),u._addMnemonics(),e=n.getString(f),u._removeMnemonics(),e},_determineHomeMenuTitleText:function(){var u=this,f=t,e;return f=!u.ProxySubjectList||u.ProxySubjectList.length<=1?s:u.CurrentlySelected.IsSelf===i?"backToYourHomePageTitleText":"backToAnotherPersonsHomePageTitleText",u.CurrentlySelected.ServiceAreaAbbreviationList&&(f+=r),u._addMnemonics(),e=n.getString(f),u._removeMnemonics(),e},_addMnemonics:function(){n.addMnemonic(o,this.CurrentlySelected.DisplayName,$$WP.Strings.EncodingTypes.None);n.addMnemonic(e,this.CurrentlySelected.ServiceAreaAbbreviationList,$$WP.Strings.EncodingTypes.None)},_removeMnemonics:function(){n.removeMnemonic(o);n.removeMnemonic(e)}};$$WP.ProxySwitch.Models.ProxySelectorViewModel=f;f.extend($$WP.Common.Model,"WP$ProxySwitch$Models$ProxySelectorViewModel")}(),function(){var i="@MYCHART@ALLOWEDAREAS@",r="@MYCHART@SUBJECT_PATIENTNAME@",t=null,n=$$WP.Strings.getNamespace("ProxySwitch.ProxySwitch.ProxySelector"),u;$$WP.Utilities.guaranteeExistence($$WP,"ProxySwitch.Models");u=function(n){var t=this;t.WP$Common$Model(n);t.FirstLetter=t.DisplayName.substring(0,1);t.TitleText=t.determineTitleText();t.DisplayNameLabel=t.DisplayName;t.ServiceAreaAbbreviationList&&(t.DisplayNameLabel=t.determineDisplayNameWithServiceAreas())};u.prototype={s_dataMembers:["DisplayName","TabColor","PhotoUrl","LinkUrl","IsSelected","FirstLetter","IsSelf","TitleText","ServiceAreaAbbreviationList"],DisplayName:t,PhotoUrl:t,TabColor:t,LinkUrl:t,IsSelected:!1,FirstLetter:t,IsSelf:!1,TitleText:t,ServiceAreaAbbreviationList:t,DisplayNameLabel:t,determineTitleText:function(){var t=this,f,u;return n.addMnemonic(r,t.DisplayName,$$WP.Strings.EncodingTypes.None),n.addMnemonic(i,t.ServiceAreaAbbreviationList,$$WP.Strings.EncodingTypes.None),f="",u="",u=t.IsSelected&&t.IsSelf?"selfSelectorCurrentlyAccessingTitle":t.IsSelected&&!t.IsSelf?"currentlyAccessingTitle":!t.IsSelected&&t.IsSelf?"selfSelectorTitle":"subjectSelectorTitle",t.ServiceAreaAbbreviationList&&(u+="ServiceAreas"),f=n.getString(u),n.removeMnemonic(r),n.removeMnemonic(i),f},determineDisplayNameWithServiceAreas:function(){n.addMnemonic(r,this.DisplayName,$$WP.Strings.EncodingTypes.None);n.addMnemonic(i,this.ServiceAreaAbbreviationList,$$WP.Strings.EncodingTypes.None);var t=n.getString("subjectLabelTitleServiceAreas");return n.removeMnemonic(r),n.removeMnemonic(i),t}};$$WP.ProxySwitch.Models.ProxySubjectViewModel=u;u.extend($$WP.Common.Model,"WP$ProxySwitch$Models$ProxySubjectViewModel")}(),function(){var i=!1,n=null,t;$$WP.Utilities.guaranteeExistence($$WP,"Upload.Models");t=function(n){var t=this;n=n||{};t.WP$Common$Model(n);t.ContextData=jQuery.extend(!0,{},t.ContextData);t.ViewTemplate=n.ViewTemplate||$$WP.Templates.Upload.UploadContainer;t.UploadCardTemplate=n.UploadCardTemplate||$$WP.Templates.Upload.UploadCard;t.DefaultStringNamespace=n.DefaultStringNamespace||"Upload";t.ViewerCsn=n.ViewerCsn;t.IsPhotoForPatientsChart=n.IsPhotoForPatientsChart};t.prototype={s_dataMembers:["AllowedImageAndDocumentExtensions","AllowedVideoExtensions","MaxAllowedImageSize","MaxAllowedVideoSize","MaxFilesAllowed","ContextData"],AllowedImageAndDocumentExtensions:n,AllowedVideoExtensions:n,MaxAllowedImageSize:n,MaxAllowedVideoSize:n,MaxFilesAllowed:n,ContextData:{},ViewerCsn:"",ViewTemplate:n,IsPhotoForPatientsChart:i,UploadCardTemplate:n,AttachContainerEventHandlers:n,AttachFileCardEventHandlers:n,DefaultStringNamespace:n,ConfirmationViewModel:n,RefreshViewOverride:n,MasterController:n,NeedsRedirect:i,RedirectTitle:n,RedirectHtml:n,UseGet:i,FromVBPage:i,ConfigUrl:n,UploadUrl:makeLink("DocumentUpload/UploadFile"),DeleteUrl:makeLink("DocumentUpload/DeleteFile"),EditUrl:makeLink("DocumentUpload/EditFileName"),onConfigStart:n,onUploadStart:n,onEditStart:n,onDeleteStart:n,onConfigSucess:n,onUploadSuccess:n,onDeleteSuccess:n,onEditSuccess:n,onConfigFail:n,onUploadFail:n,onDeleteFail:n,onEditFail:n,ConfirmFunction:n,IsFileAceptable:function(n,t){var i=this,u=(n||"").lastIndexOf("."),r="",f=i.AllowedExtensions;return u>-1&&(r=n.substr(u+1).toUpperCase(),f.indexOf(r)>-1)?(t=t/1024,i.AllowedImageAndDocumentExtensions&&i.AllowedImageAndDocumentExtensions.indexOf(r)>-1&&i.MaxAllowedImageSize<t?2:i.AllowedVideoExtensions&&i.AllowedVideoExtensions.indexOf(r)>-1&&i.MaxAllowedVideoSize<t?3:0):1},get AllowedExtensions(){var n=this,t=[];return n.AllowedImageAndDocumentExtensions&&n.AllowedImageAndDocumentExtensions.length>0&&n.MaxAllowedImageSize>0&&(t=t.concat(n.AllowedImageAndDocumentExtensions)),n.AllowedVideoExtensions&&n.AllowedVideoExtensions.length>0&&n.MaxAllowedVideoSize>0&&(t=t.concat(n.AllowedVideoExtensions)),t},get AllowedExtensionsForInput(){var n=this.AllowedExtensions;return n&&n.length>0?"."+n.join(",."):""},get AllowedDocumentsHelperText(){var i="@MYCHART@ALLOWEDVIDEOSIZE@",r="@MYCHART@ALLOWEDIMAGESIZE@",u="@MYCHART@ALLOWEDEXTENSIONS@",f="@MYCHART@MAXUPLOADS@",n=this,t="";return $$WP.Strings.setDefaultNamespace(n.DefaultStringNamespace),$$WP.Strings.addMnemonic(f,n.MaxFilesAllowed),$$WP.Strings.addMnemonic(u,n.AllowedExtensions.join($$WP.Strings.get("listSeparator"))),$$WP.Strings.addMnemonic(r,Math.floor(n.MaxAllowedImageSize*10/1024)/10),$$WP.Strings.addMnemonic(i,Math.floor(n.MaxAllowedVideoSize*10/1024)/10),t=n.MaxFilesAllowed===1?$$WP.Strings.get("UploadInfoBubbleHelpTextOneFile"):$$WP.Strings.get("UploadInfoBubbleHelpText"),n.MaxAllowedImageSize>0&&(t+=$$WP.Strings.get("UploadInfoBubbleImageSizeHelpText")),n.MaxAllowedVideoSize>0&&(t+=$$WP.Strings.get("UploadInfoBubbleVideoSizeHelpText")),$$WP.Strings.removeMnemonic(i),$$WP.Strings.removeMnemonic(r),$$WP.Strings.removeMnemonic(u),$$WP.Strings.removeMnemonic(f),$$WP.Strings.clearDefaultNamespace(),t}};t.parse=function(n){return new t(n)};$$WP.Upload.Models.UploadConfiguration=t;t.extend($$WP.Common.Model,"WP$Upload$Models$UploadConfiguration")}(),function(){var t=null,n=function(n,t,u){var f=this;f.WP$BaseObject();f.Module=n||r.Default;f.Submodule=t||i.Default;f.IsoInstantUtc=u||(new Date).toISOString();f.ExtraInfoEntries=[]},u={Module:t,Submodule:t,IsoInstantUtc:t,ExtraInfoEntries:t,addEntryToExtraInfo:function(n,t,i){var r;t&&(Array.isArray(t)||(t=[t]),r={Key:n,Values:t,AreValuesEncrypted:i},this.ExtraInfoEntries.push(r))}},r={Default:0,Scheduling:1},i={Default:0,ConfirmationStep:1,CustomStep:2,DemographicVerificationStep:3,InsuranceVerificationStep:4,LandingPage:5,LocationStep:6,LQFStep:7,OnboardingStep:8,ProviderStep:9,ReasonForVisitStep:10,RequestStep:11,SlotStep:12,OrganizationAuthStep:13,OrganizationStep:14,PatientLocationStep:15,PlatformStep:16,QuickScheduleStep:17,SummaryStep:18,StopScheduling:19,SpecialtyStep:20},f=function(n){for(var r in i)if(i[r]===n)return r;return t};n.prototype=u;n.ModulesEnum=r;n.SubmodulesEnum=i;n.getNameFromSubmodule=f;$$WP.Analytics=$$WP.Analytics||{};$$WP.Analytics.ViewEvent=n;n.extend($$WP.BaseObject,"WP$Analytics$ViewEvent")}(),function(){var t=$$WP.Analytics.ViewEvent,n=function(){this.WP$Controllers$Controller()},i=function(n){if(!$$WP.DisableUsageTracking){if(n.Module===t.ModulesEnum.Default){$$WP.Debug.logError("Module must be defined in order to log a view event.");return}$.post({url:makeLink("Analytics/LogViewEventForUsageTracking"),data:$$WPUtil.postify(n)})}},r=function(n){if(!$$WP.DisableUsageTracking){if($$WPUtil.guaranteeExistence($$WP,"ThirdPartyUsageTracking"),!$.isFunction($$WP.ThirdPartyUsageTracking.LogViewEvent)){$$WP.Debug.logError("Attempted to log view event to third party but function does not exist. Did you include the correct JavaScript files?");return}$$WP.ThirdPartyUsageTracking.LogViewEvent(n.Path,n.Title,n.ExtraInfo)}},u=function(n){if($$WPUtil.canWriteCookies()){var n=n||!1,t=n?null:f;$$WP.TroveDisabled||sessionStorage.FormFactorReported!=="true"&&getCSRFTokenAsQS(function(i){$.ajax({url:makeLink("Analytics/LogFormFactor"),data:{width:e(),height:o(),guest:n,token:i},type:"POST",success:t})})}},f=function(){sessionStorage.setItem("FormFactorReported","true")},e=function(){return window.innerWidth},o=function(){return window.innerHeight};n.prototype={};n.logViewEvent=i;n.logThirdPartyViewEvent=r;n.logFormFactor=u;$$WP.Analytics=$$WP.Analytics||{};$$WP.Analytics.UsageTrackingController=n;n.extend($$WP.Controllers.Controller,"WP$Analytics$UsageTrackingController")}()