/*! Copyright (c) Epic Systems Corporation 2009-2018 */
$afe.onDocumentReady(function(){var a="If you leave this page, you will need to log in again. If you are leaving to retrieve your code, you should open a new browser tab.";$afe.select("#ACCEPT").on("click",function(){disableTermsAccept($afe.jq(this))});if($afe.select("#twofactorform").length>0){$$WPUtil.SafeToRedirectOverrideSettings={TitleText:"Are you sure you want to leave?",ToolbarButtons:[new $$WPComp.ComplexObjects.Button("Stay here",null,"","stay"),new $$WPComp.ComplexObjects.Button("Leave this page",null,"inlinedelete","leave")],Html:a,IsClosable:false};WP.Events.registerBeforeUnloadMessage(a);WP.Events.beforeUnload()}setPreloginTimeout()});function openNewTab(){WP.Events.cancelBeforeUnload();openWindow("about:blank","NewTab","","",true,"",true);WP.Events.beforeUnload()}function doLogin(f){var e="loginErrorMessage",c=null,b,a,h,g,d;d=document.getElementById("loginForm");if(d){d.jsenabled.value="1";b=document.getElementById("Login");a=document.getElementById("Password");h=d.Login.value;g=d.Password.value;if(h==""&&g==""){b!=c&&turnOnHighlight(b);a!=c&&turnOnHighlight(a);changeGeneralError(e,"<span class=\"clearlabel\">Error: </span>Please enter a username and a password.",f);d.Login.focus();return false}else if(h==""){b!=c&&turnOnHighlight(b);a!=c&&turnOffHighlight(a);changeGeneralError(e,"<span class=\"clearlabel\">Error: </span>Please enter a username.",f);d.Login.focus();return false}else if(g==""){a!=c&&turnOnHighlight(a);b!=c&&turnOffHighlight(b);changeGeneralError(e,"<span class=\"clearlabel\">Error: </span>Please enter a Password.",f);d.Password.focus();return false}}b!=c&&turnOffHighlight(b);a!=c&&turnOffHighlight(a);document.getElementById(e)&&changeGeneralError(e,"","",1);disableButtonAndShowSpinner($afe.select("#submit"));return true}function inlineLoginValidation(a,d){var b,c;if(a!=null)if(a.value.length<1){if(!d){c=a.name;if(c=="Password"){turnOnHighlight(a);b=document.getElementById("Login");b&&highlightIfEmpty(b)}else if(c=="Login")turnOnHighlight(a);else turnOnHighlight(a)}}else turnOffHighlight(a)}function selectIfFull(a){a!=null&&a.value.length===a.maxLength&&a.select()}function isEmailSingleFieldError(a,e,b,d,g,i,h,j){var c=false,f;if(b==""||b==null)b="<span class=\"clearlabel\">Error: </span>This field is required.";if(d==""||d==null)d=b;if(a!=null){c=isBasicInlineValidationError(a,e,b,"",g,1,1,"",!i);if(!c){f=a.value;if(f.length>0)if(!isValidEmail(f)){if(!g){turnOnHighlight(a);changeErrorField(e,d)}c=true}else if(h&&containsPunctuation(f)){if(!g){changeErrorField(e,j);turnOnHighlight(a)}c=true}else{turnOffHighlight(a);changeErrorField(e,"")}}}return c}function isOtherFieldsError(d){var a,c,b;b=-1;for(c=0;c<d.elements.length;c++){a=d.elements[c];if(a.type=="text"&&a.name.search("code")<0&&a.name.search("ssn")<0&&a.name.search("dob")<0&&a.name.search("zip")<0&&a.name.search("hphn")<0&&a.name.search("email")<0&&a.name.search("mrn")<0&&a.name.search("firstname")<0&&a.name.search("lastname")<0)if(WP.Strings.isEmpty(a.value)){if(b===-1)b=c;turnOnHighlight(a);changeErrorField(a.name+"error","<span class=\"clearlabel\">Error: </span>This field is required.")}else{turnOffHighlight(a);changeErrorField(a.name+"error","")}if(b===-1&&isHighlighted(a))b=c}if(b!==-1){d.elements[b].focus();return true}else return false}function doAccessCheck(r,p,n,q,s,t,i,o,m){var l="<span class=\"clearlabel\">Error: </span>Invalid @MYCHART@NationalIDLabel@.",k="<span class=\"clearlabel\">Error: </span>Please enter your @MYCHART@NationalIDLabel@ in the form of @MYCHART@SSNFORMAT@.",j="ssnerror",b=true,d=null,a,c;i=i||"accessForm";a=document.getElementById(i);if(a){if(a.jsenabled!=d)a.jsenabled.value="1";var h,f,g,e;c=false;h=a.code;f=a.ssn;g=a.dob;easyDOBEntry(g);if(h!=d&&isDiscreteFieldsError("code",h.length,1,"codeerror","<span class=\"clearlabel\">Error: </span>Please enter your Activation Code.","<span class=\"clearlabel\">Error: </span>Invalid activation code."))c=b;e=$$WP.Strings.getNamespace("Global");if(r&&f!=d)if(f.length!==undefined){if(isDiscreteFieldsError("ssn",f.length,1,j,e.replaceMnemonics(k),e.replaceMnemonics(l)))c=b}else if(isBasicInlineValidationError(f,j,e.replaceMnemonics(k),1,"","","",e.replaceMnemonics(l),"","",o))c=b;if(a.ssn4!=d&&isBasicInlineValidationError(a.ssn4,"ssn4error",e.replaceMnemonics("<span class=\"clearlabel\">Error: </span>Please enter the last 4 digits of your @MYCHART@NationalIDLabel@."),1,"","","",e.replaceMnemonics("<span class=\"clearlabel\">Error: </span>Invalid last 4 digits of @MYCHART@NationalIDLabel@.")))c=b;if(q&&a.mrn!=d&&isBasicInlineValidationError(a.mrn,"mrnerror","<span class=\"clearlabel\">Error: </span>Please enter your medical record number."))c=b;if(p&&g!=d&&isDiscreteFieldsError("dob",g.length,1,"doberror","<span class=\"clearlabel\">Error: </span>Please enter your date of birth.","<span class=\"clearlabel\">Error: </span>Invalid date of birth."))c=b;if(s&&a.zip!=d&&isBasicInlineValidationError(a.zip,"ziperror","<span class=\"clearlabel\">Error: </span>Please enter your ZIP code."))c=b;if(a.email!=d&&isEmailSingleFieldError(a.email,"emailerror","<span class=\"clearlabel\">Error: </span>Please enter your e-mail address.","<span class=\"clearlabel\">Error: </span>Invalid e-mail address.","",1))c=b;if(a.hphn!=d&&isBasicInlineValidationError(a.hphn,"hphnerror","<span class=\"clearlabel\">Error: </span>Please enter your primary phone number."))c=b;if(m!=b&&a.firstname!=d&&isBasicInlineValidationError(a.firstname,"firstnameerror","<span class=\"clearlabel\">Error: </span>Please enter your first name."))c=b;if(a.lastname!=d&&isBasicInlineValidationError(a.lastname,"lastnameerror","<span class=\"clearlabel\">Error: </span>Please enter your last name."))c=b;if(isOtherFieldsError(a))c=b}if(c){changeGeneralError(t,"<span class=\"clearlabel\">Error: </span>There were problems in the form submission. Please check the form, correct any mistakes and resubmit it.",n);return false}else return b}function accessCheckBodyLoad(){var b="",c,a,e;c=document.getElementById("accessForm");a=document.getElementById("signupForm");e=document.getElementById("notifyForm");if(c){var f,j,i;f=getObjectValue(c.code);j=getObjectValue(c.ssn);i=getObjectValue(c.dob);if(f==b&&j==b&&i==b)if(c.code[0])c.code[0].focus();else c.code.focus()}else if(a){var d;d=false;if(a.pwdQuestion)if(a.pwdQuestion.value!=b||a.pwdAnswer.value!=b)d=true;if(a.hint)if(a.hint.value!=b)d=true;if(a.Login)!d&&a.Login.value==b&&a.Password.value==b&&a.Retype.value==b&&a.Login.focus();else if(a.Password)!d&&a.Password.value==b&&a.Retype.value==b&&a.Password.focus()}else if(e){var h,g;h=getObjectValue(e.email);g=getObjectValue(e.Retype);h==b&&g==b&&e.email.focus()}return true}function loginBodyLoad(){var a=document.getElementById("loginForm");if(a)a.Login.value==""&&a.Password.value==""&&a.Login.focus();return true}function changeGeneralError(e,b,d,c){var a=document.getElementById(e);if(a)if(b=="")if(c)dangerou$.setHtml(a,'<span class="subheader">&nbsp;</span>');else $afe.jq(a).empty();else dangerou$.setHtml(a,'<span class="alert card"><img src="'+d+'" alt="" />&nbsp;'+b+"</span>")}function isUserNameError(a,e,d,f){var b="Loginerror",c;if(a!=null){c=a.value;if(c==""){if(!d&&!f){changeErrorField(b,"<span class=\"clearlabel\">Error: </span>Please enter a username.");e&&a.focus();turnOnHighlight(a)}return true}else if(containsPunctuation(c)){if(!d){changeErrorField(b,"<span class=\"clearlabel\">Error: </span>Your username cannot contain any spaces or symbols other than a period (.), hyphen (-), underscore (_), or the at symbol (@).");e&&a.focus();turnOnHighlight(a)}return true}else{turnOffHighlight(a);changeErrorField(b,"")}}return false}function isEmailFieldsError(a,b,j,g,p,f,q){var m="<span class=\"clearlabel\">Error: </span>Please retype your e-mail address.",i=true,e="emailerror",c="",h,k,l,d,n,o;o=f;d=false;n=false;if(a!=null){h=a.value;l=b==null;if(!l)k=b.value;if(k!=c||isHighlighted(b))f=c;if(h==c){if(isHighlighted(a))f=c;if(!g&&!f){changeErrorField(e,"<span class=\"clearlabel\">Error: </span>Please enter your e-mail address.");j&&a.focus();turnOnHighlight(a);highlightIfEmpty(b)}d=i}else if(q&&containsPunctuation(h)){if(!g){changeErrorField(e,"<span class=\"clearlabel\">Error: </span>Your e-mail address cannot contain any spaces or punctuation.");j&&a.focus();turnOnHighlight(a);highlightIfEmpty(b)}d=i}else if(h!=c&&!isValidEmail(h)){if(!g){changeErrorField(e,"<span class=\"clearlabel\">Error: </span>Please enter a valid e-mail address.");j&&a.focus();turnOnHighlight(a);turnOnHighlight(b)}d=i}else if(!l){!g&&isHighlighted(b)&&k==c&&changeErrorField(e,m);if(!d)f=c;else o=f;if(k==c){if(isHighlighted(b))f=c;if(!g&&!f)if(!p){turnOffHighlight(a);!d&&changeErrorField(e,m);j&&b.focus();turnOnHighlight(b)}else{turnOffHighlight(a);!d&&changeErrorField(e,m,1);j&&b.focus()}d=i}else if(h!=c&&h!=k){if(!g){!d&&changeErrorField(e,"<span class=\"clearlabel\">Error: </span>Your e-mail and the retyped e-mail are not the same.");j&&b.focus();turnOnHighlight(a);turnOnHighlight(b)}d=i;n=i}else{turnOffHighlight(a);turnOffHighlight(b);changeErrorField(e,c)}!n&&!g&&turnOffHighlight(a)}else{turnOffHighlight(a);changeErrorField(e,c)}}return d}function isPhoneFieldsError(a,b,l,h,r,g,s){var n="<span class=\"clearlabel\">Error: </span>Please retype your mobile phone number.",k=true,e="phoneerror",d="",j=false,f,i,m,c,o,p;p=g;c=j;o=j;if(a!==null){var q=new RegExp("[-. ()]","g");f=a.value;f=f.replace(q,d);m=b===null;if(!m){i=b.value;i=i.replace(q,d)}if(i!==d||isHighlighted(b))g=j;if(f===d){if(isHighlighted(a))g=j;if(!h&&!g){changeErrorField(e,"<span class=\"clearlabel\">Error: </span>Please enter your mobile phone number.");l&&a.focus();turnOnHighlight(a);highlightIfEmpty(b)}c=k}else if(s&&containsInvalidPhoneCharacters(f)){if(!h){changeErrorField(e,"<span class=\"clearlabel\">Error: </span>Your mobile phone number cannot contain any spaces, letters, or punctuation.");l&&a.focus();turnOnHighlight(a);highlightIfEmpty(b)}c=k}else if(f!=d&&!$$WPUtil.isValidPhoneNumber(f)){if(!h){changeErrorField(e,"<span class=\"clearlabel\">Error: </span>Please enter a valid phone number.");l&&a.focus();turnOnHighlight(a);turnOnHighlight(b)}c=k}else if(!m){!h&&isHighlighted(b)&&i===d&&changeErrorField(e,n);if(!c)g=j;else p=g;if(i===d){if(isHighlighted(b))g=j;if(!h&&!g)if(!r){turnOffHighlight(a);!c&&changeErrorField(e,n);l&&b.focus();turnOnHighlight(b)}else{turnOffHighlight(a);!c&&changeErrorField(e,n,1);l&&b.focus()}c=k}else if(f!==d&&f!==i){if(!h){!c&&changeErrorField(e,"<span class=\"clearlabel\">Error: </span>Your mobile phone number and the retyped mobile phone number are not the same.");l&&b.focus();turnOnHighlight(a);turnOnHighlight(b)}c=k;o=k}else{turnOffHighlight(a);turnOffHighlight(b);changeErrorField(e,d)}!o&&!h&&turnOffHighlight(a)}else{turnOffHighlight(a);changeErrorField(e,d)}}return c}function isSecQuesFieldsError(a,b,k,e,t,l){var r="<span class=\"clearlabel\">Error: </span>Please enter an answer to your security question.",g=true,d="pwdQuesAnserror",n=null,c="",f,h,m,o,j,p,q,i,s;s=l;j=false;h=f=i=c;if(a!=n){m=a.selectedIndex;o=document.getElementById("Password");if(m==n)f=a.value;else if(m>0)f=a.options[m].text;else f=c;if(b.value!=c||isHighlighted(b))l=c;if(f==c){if(isHighlighted(a))l=c;if(!e&&!e&&!l){changeErrorField(d,"<span class=\"clearlabel\">Error: </span>Please enter a security question.");k&&a.focus();turnOnHighlight(a);highlightIfEmpty(b)}j=g}else if(b!=n){h=b.value;!e&&isHighlighted(b)&&h==c&&changeErrorField(d,r);if(h==c){turnOffHighlight(a);if(!e&&!t){changeErrorField(d,r);k&&b.focus();turnOnHighlight(b)}j=g}}else{turnOffHighlight(o);changeErrorField(d,c)}if(!j)if(o!=n){i=o.value;if(i.length>0){p=f.toUpperCase().search(i.toUpperCase());q=h.toUpperCase().search(i.toUpperCase());if(p>-1&&q>-1){if(!e){changeErrorField(d,"<span class=\"clearlabel\">Error: </span>Neither your security question nor your secret answer may contain your password.");k&&a.focus();turnOnHighlight(a);turnOnHighlight(b)}return g}else if(p>-1){if(!e){changeErrorField(d,"<span class=\"clearlabel\">Error: </span>Your security question cannot include your password.");k&&a.focus();turnOnHighlight(a);turnOffHighlight(b)}return g}else if(q>-1){if(!e){changeErrorField(d,"<span class=\"clearlabel\">Error: </span>Your secret answer cannot include your password.");k&&b.focus();turnOnHighlight(b);turnOffHighlight(a)}return g}else{turnOffHighlight(a);turnOffHighlight(b);changeErrorField(d,c)}}else{changeErrorField(d,c);turnOffHighlight(a);turnOffHighlight(b)}}else{changeErrorField(d,c);turnOffHighlight(a);turnOffHighlight(b)}}return j}function isPasswordFieldsError(c,b,j,f,r,e){var q="pwdAnswer",p="pwdQuestion",m="<span class=\"clearlabel\">Error: </span>Please retype your password.",i=true,g="LoginPassworderror",a="",k,h,l,d,n,o;o=e;d=false;n=false;if(c!=null){k=c.value;l=b==null;if(!l)h=b.value;if(h!=a||isHighlighted(b))e=a;if(k==a){if(isHighlighted(c))e=a;if(!f&&!e){changeErrorField(g,"<span class=\"clearlabel\">Error: </span>Please enter a Password.");j&&c.focus();turnOnHighlight(c);highlightIfEmpty(b)}d=i}else if(containsSpace(k)){if(!f){changeErrorField(g,"<span class=\"clearlabel\">Error: </span>Your password cannot contain any spaces.");j&&c.focus();turnOnHighlight(c);highlightIfEmpty(b)}d=i}else if(!l){!f&&isHighlighted(b)&&h==a&&changeErrorField(g,m);if(!d)e=a;else e=o;if(h==a){if(isHighlighted(b))e=a;if(!f&&!e)if(!r){!d&&changeErrorField(g,m);j&&b.focus();turnOnHighlight(b)}else{!d&&changeErrorField(g,m,1);j&&b.focus()}d=i}else if(k!=h&&h!=a){n=i;if(!f){!d&&changeErrorField(g,"<span class=\"clearlabel\">Error: </span>Your password and the retyped password are not the same.");j&&b.focus();turnOnHighlight(b);turnOnHighlight(c)}d=i}else{turnOffHighlight(b);turnOffHighlight(c);changeErrorField(g,a);!f&&isSecQuesFieldsError(document.getElementById(p),document.getElementById(q),a,"1",a,1)}!n&&!f&&turnOffHighlight(c)}else{turnOffHighlight(c);changeErrorField(g,a);!f&&isSecQuesFieldsError(document.getElementById(p),document.getElementById(q),a,"1",a,1)}}return d}function isHintError(a,l,h,g){var i="hinterror",f,j,d,c,k,e,b;e=false;b="";if(a!==null&&typeof a!=="undefined"){d=a.value;if(isHighlighted(a))g="";if(typeof d!=="string"||d.length<1){if(!h&&!g)b="<span class=\"clearlabel\">Error: </span>Please enter your password hint.";e=true}else{f=document.getElementById("Password");if(f!==null){c=f.value;if(typeof c==="string"&&c.length>0){k=new RegExp(c.toUpperCase());j=d.toUpperCase().search(k);if(j>-1){if(!h)b="<span class=\"clearlabel\">Error: </span>Your password hint cannot include your password.";e=true}}}}if(e){if(b.length>0){turnOnHighlight(a);changeErrorField(i,b);l&&a.focus()}return true}else{turnOffHighlight(a);changeErrorField(i,"");return false}}return false}function checkUserId(e){var d="<span class=\"clearlabel\">Error: </span>There were problems in the form submission. Please check the form, correct any mistakes and resubmit it.",c="signuperror",b=false,a,n,p,o;p=b;o="";n=-1;var l,i,j,h,g,f,m,k;a=document.getElementById("signupForm");if(a){l=a.Login;i=a.Password;j=a.Retype;h=a.pwdQuestion;g=a.pwdAnswer;f=a.hint;m=a.TermsAndConditions;k=a.EmailOnFile;if(isUserNameError(l,1)){isPasswordFieldsError(i,j);isSecQuesFieldsError(h,g);isHintError(f);changeGeneralError(c,d,e);return b}else if(isPasswordFieldsError(i,j,1)){isSecQuesFieldsError(h,g);isHintError(f);changeGeneralError(c,d,e);return b}else if(isSecQuesFieldsError(h,g,1)){isHintError(f);changeGeneralError(c,d,e);return b}else if(isHintError(f,1)){changeGeneralError(c,d,e);return b}else if(isTandCError(m)){changeGeneralError(c,d,e);return b}else if(isEmailSingleFieldError(k,"emailerror","<span class=\"clearlabel\">Error: </span>Please enter your e-mail address.","<span class=\"clearlabel\">Error: </span>Invalid e-mail address.")){changeGeneralError(c,d,e);return b}}return true}function checkNotifyAll(b,a){var c=checkNotify(b,a),d=checkNotifySMS(b,a);return c&&d}function checkNotify(l,h){var k="emailerror",g="notifyenableerror",j="<span class=\"clearlabel\">Error: </span>There were problems in the form submission. Please check the form, correct any mistakes and resubmit it.",i="signuperror",f=false,a="disabled",e=true,d=$afe.select("#notifyForm"),c,b,m;if(d.legnth===0)return e;c=d.find("#Email");b=d.find("#Retype");m=d.find("#INP_send_1").prop("checked")||d.find("input.hidden[name='send']").length>0;if(m){c.removeClass(a).prop(a,f);b.removeClass(a).prop(a,f);if(isEmailFieldsError(c[0],b[0],1)){!h&&changeGeneralError(i,j,l);changeErrorField(g,"");changeErrorField(k,"");return f}return e}else{c.addClass(a).prop(a,e);b.addClass(a).prop(a,e);turnOffHighlight(c[0]);turnOffHighlight(b[0]);if(d.find("#INP_send_0").prop("checked")){changeErrorField(g,"");changeErrorField(k,"");return e}else{!h&&changeGeneralError(i,j,l);changeErrorField(g,"<span class=\"clearlabel\">Error: </span>Please select Yes or No.");isEmailFieldsError(c[0],b[0]);return f}}}function checkNotifySMS(l,h){var k="phoneerror",g="notifyenableerrorsms",j="<span class=\"clearlabel\">Error: </span>There were problems in the form submission. Please check the form, correct any mistakes and resubmit it.",i="signuperror",f=false,a="disabled",c=true,e=$afe.select("#notifyForm"),b,d,m;if(e.legnth===0)return c;b=e.find("#Phone");if(b.length===0)return c;d=e.find("#RetypePhone");m=e.find("#INP_sendSMS_1").prop("checked");if(m){b.removeClass(a).prop(a,f);d.removeClass(a).prop(a,f);if(isPhoneFieldsError(b[0],d[0],1)){!h&&changeGeneralError(i,j,l);changeErrorField(g,"");changeErrorField(k,"");return f}return c}else{b.addClass(a).prop(a,c);d.addClass(a).prop(a,c);turnOffHighlight(b[0]);turnOffHighlight(d[0]);if(e.find("#INP_sendSMS_0").prop("checked")){changeErrorField(g,"");changeErrorField(k,"");return c}else{!h&&changeGeneralError(i,j,l);changeErrorField(g,"<span class=\"clearlabel\">Error: </span>Please select Yes or No.");isPhoneFieldsError(b[0],d[0]);return f}}}function containsInvalidPhoneCharacters(b){for(var d="0123456789.-()+",c,a=0;a<b.length;++a){c=b.charAt(a);if(d.indexOf(c)<0)return true}return false}function checkPassword(a){var b,c;b=a.newpasswd.value;if(containsSpace(b)){alert("Your new password cannot contain any spaces.");a.newpasswd.focus();return false}c=a.verifypasswd.value;if(b!=c){alert("Your password and the retyped password are not the same.");a.verifypasswd.focus();return false}return true}function enableInputs(){$afe.select("input.jsreq").each(function(){var a="disabled",b=$afe.jq(this);b.removeClass("disabled disabledfield");b.safeAttr(a,null);b.prop(a,false)})}if(typeof WP==="undefined")WP={};if(typeof WP.FormValidators==="undefined")WP.FormValidators={};if(typeof WP.FormValidators.LoginMethods==="undefined")WP.FormValidators.LoginMethods=function(m,j){var h="blur",f="keyup",b="",e=false,g="click",d=true,a=this,c=a,i,l,k;a.authOptions=m;a.divs={err:document.getElementById("LoginPassworderror"),pass:document.getElementById("PASSWORD"),retype:document.getElementById("RETYPE"),login:document.getElementById("USERNAME"),pwques:document.getElementById("PWDQUESTION"),pwans:document.getElementById("PWDANSWER"),pwhint:document.getElementById("HINT"),resetErr:document.getElementById("pwdQuesAnserror")||document.getElementById("hinterror"),submit:document.getElementById("submit"),cancel:document.getElementById("cancel"),username:document.getElementById("mychartusername"),form:document.getElementById("signupform"),loginError:document.getElementById("Loginerror")};if(j===d){a.moveCursorLast=function(a){if(!a)return;var b;if(a.setSelectionRange){b=a.value.length*2;a.setSelectionRange(b,b)}else a.value=a.value};a.moveCursorLast(a.divs.pass)}c.clearSaved=function(){$T(document.getElementById("genmessage")," ");document.getElementById("submit").style.display=l;document.getElementById("cancel").style.display=k;WP.Events.removeListener(c.divs.username,g,c.clearSaved)};if(j!==d){k=a.divs.cancel.style.display;a.divs.cancel.style.display="none";l=a.divs.submit.style.display;a.divs.submit.style.display="none";WP.Events.addListener(c.divs.username,g,c.clearSaved)}if(a.divs.username.checked===e){a.toggleForm=function(){c.divs.form.className=c.divs.username.checked?b:"hidden"};WP.Events.addListener(a.divs.username,g,a.toggleForm)}i=function(a){return a.innerText||a.textContent||a.value||a.innerHTML};if(a.divs.pass){a.passCheck=function(i){if((i||window.event).keyCode===13)return;var g,f,a,j,h,e;g=c.divs.retype.value;a=c.divs.pass;f=c.divs.retype;j=WP.Events.getThis(i);e=c.divs.err;isPasswordFieldsError(a,f,b,b,b,1);h=e.innerHTML;switch(h){case"* <span class=\"clearlabel\">Error: </span>Your password and the retyped password are not the same.":if(g===a.value.substr(0,g.length)){$T(e," ");turnOffHighlight(a);turnOffHighlight(f);return d}break;case"* <span class=\"clearlabel\">Error: </span>Please enter a Password.":case"* <span class=\"clearlabel\">Error: </span>Please retype your password.":$T(e," ");turnOffHighlight(a);turnOffHighlight(f)}};a.passCheckBlur=function(){isPasswordFieldsError(c.divs.pass,c.divs.retype)};WP.Events.addListener(a.divs.retype,f,a.passCheck);WP.Events.addListener(a.divs.pass,f,a.passCheck);WP.Events.addListener(a.divs.retype,h,function(){isPasswordFieldsError(c.divs.pass,c.divs.retype)})}if(a.divs.pwques){a.pwQuesCheckChange=function(a){if((a||window.event).keyCode===13)return;isSecQuesFieldsError(c.divs.pwques,c.divs.pwans,b,d,b,b)};a.pwQuesCheckLF=function(){isSecQuesFieldsError(c.divs.pwques,c.divs.pwans,b,b,d,d)};WP.Events.addListener(a.divs.pwques,f,a.pwQuesCheckChange);WP.Events.addListener(a.divs.pwans,f,a.pwQuesCheckChange);WP.Events.addListener(a.divs.pwques,h,a.pwQuesCheckLF);WP.Events.addListener(a.divs.pwans,h,a.pwQuesCheckLF)}if(a.divs.pwhint){a.pwHintChange=function(a){if((a||window.event).keyCode===13)return;isHintError(c.divs.pwhint,b,b,d)};a.pwHintLF=function(){isHintError(c.divs.pwhint)};WP.Events.addListener(a.divs.pwhint,f,a.pwHintChange);WP.Events.addListener(a.divs.pwhint,h,a.pwHintChange)}a.needOne=function(){for(var a=0;a<this.authOptions.length;a++)if(this.authOptions[a].checked)return d;alert("At least one authentication method must be selected.");return e};a.checkForm=function(){var f,a=c.divs;if(a.form.className!=="hidden"){isPasswordFieldsError(a.pass,a.retype,b,b,b,b);f=i(a.err);if(a.login){isUserNameError(a.login);f=f+i(a.loginError)}$T(a.resetErr," ");if(a.pwques)isSecQuesFieldsError(a.pwques,a.pwans,1);else isHintError(a.pwhint,1);f=f+i(a.resetErr)}return WP.Strings.isEmpty(f||b)===e?e:d};return a};function matchPasswordFields(d,c){var b,a;b=$afe.select("#"+d);a=$afe.select("#"+c);if(isPasswordVisible(a))b.val(a.val());else a.val(b.val())}function isPasswordVisible(a){return!a.hasClass("hidden")}function showPassword(f,e,d){var b=$afe.select("#"+f),a=$afe.select("#"+e),c=$afe.select("#"+d);b.toggleClass("hidden");a.toggleClass("hidden");if(isPasswordVisible(a)){a.val(b.val());dangerou$.setHtml(c,"Hide");a.focus()}else{b.val(a.val());dangerou$.setHtml(c,"Show");b.focus()}}function showGuideLines(){$afe.select("#pwdInstructions").toggleClass("hidden")}function hidePwdGuidelinesBox(){!$(event.target).is("#pwdButtonImg")&&$afe.select("#pwdInstructions").addClass("hidden")}function updPwdStrClient(){var a=true;updatePasswordStrength(5,"",a,a,a,a)}function updatePasswordStrength(e,d,i,h,g,f){var a,c=$afe.select("#Password"),b=$afe.select("#PasswordText");if(isPasswordVisible(b))a=b.val();else a=c.val();setPwdStrengthDiv(passwordStrength(a,$afe.select("#login").val(),e,d,i,h,g,f))}function passwordStrength(a,j,h,f,n,m,k,i){var c=1,b=0,e=/[a-z]+/,d=/[A-Z]+/,l=/[0-9]+/,g=/\W/g;if(a.length===0)return 0;if(a.length>=h)b++;if(f!==""){c++;if(a.length<=f)b++}if(n){c++;if(a.toLowerCase()!==j.toLowerCase())b++}if(m){c++;if((e.test(a)||d.test(a))&&l.test(a))b++}if(k){c++;if(e.test(a)&&d.test(a))b++}if(i){c++;if(g.test(a))b++}return Math.ceil(b*10/c)*10}function togglePwdStrengthDiv(){$afe.select("#passwordStrength").toggleClass("hidden")}function setPwdStrengthDiv(c){var d=$afe.select("#passwordStrength"),e=d.safeAttr("class"),b="Weak",a="weakStrength";if(c===0){a="";b=""}else if(c>=100){b="Strong";a="highStrength"}else if(c>=75){b="Good";a="goodStrength"}else if(c>=50){b="Medium";a="medStrength"}$afe.select("#passwordStrengthWords").text(b);e!==a&&d.removeClass(e).addClass(a)}function TermsAndConditionsIA(){$afe.select("#TandCText").toggleClass("hidden");$afe.select("#tnc-close-icon").toggleClass("hidden");MoveTandCWindow()}function MoveTandCWindow(){var a=$afe.select("#TandCText"),c=$afe.select("#tnc-close-icon"),d=15+$(window).scrollTop(),b=a.position().left;b=b+a.width();a.offset({top:d});c.offset({top:d-12});c.css({left:b+5});a.css("max-height",$(window).height()-24)}function hideTermsAndConditionsIA(){var a="#TandCText";if(!$(event.target).is("#tandclink")&&!$(event.target).parents(a).length&&!$(event.target).is(a)){$afe.select(a).addClass("hidden");$afe.select("#tnc-close-icon").addClass("hidden")}}function isTandCError(a){var b=false;if(a!=null)if(a.checked!=true){changeErrorField("TandCerror","You must accept the Terms and Conditions to proceed.");b=true}return b}function updateTandCError(){var a="TandCerror";signupForm=document.getElementById("signupForm");var b=signupForm.TermsAndConditions;if(b.checked==true)changeErrorField(a,"");else changeErrorField(a,"You must accept the Terms and Conditions to proceed.")}function addPopupListeners(){var a="click touchend";$(window).on("orientationchange resize",MoveTandCWindow);$(window).on(a,hideTermsAndConditionsIA);$(window).on(a,hidePwdGuidelinesBox)}function disableTermsAccept(a){disableButtonAndShowSpinner(a);var c=$afe.select(".spinningLoadWheel");c.css("margin-right","calc( 4px - 1rem + 0.5*"+a.outerWidth(true)+"px)");c.css("margin-left","calc( -4px - 1rem - 0.5*"+a.outerWidth(true)+"px)");var b=document.createElement("input");$afe.jq(b).safeAttr("type","hidden");$afe.jq(b).safeAttr("name","Accept");$afe.jq(b).safeAttr("value","Accept");a.safeAfter(b);$afe.select("#termpage").submit()}function setPreloginTimeout(){var a=true,b;resetTimer();document.addEventListener("click",resetTimer,a);document.addEventListener("keydown",resetTimer,a);document.addEventListener("scroll",resetTimer,a);function resetTimer(){clearTimeout(b);b=setTimeout(popupWarning,6e5)}function popupWarning(){$$WPUtil.quickPopup(new $$WPComp.TimeoutWarningComponent({SecondsLeft:30,isPreLogin:a}),{DontMatchColumnHeights:a})}}