/*! Copyright (c) Epic Systems Corporation 2016 - 2019 */
(function WP$FormValidation$definition(){var db=" data-validation-settings=",D="DisabledButtonToolTip",S="value",j="title",i="aria-label",q="data-old-aria-label",cb=".section.questionsContainer",R="string",bb='input[type="radio"][name="',ab='"]:checked:visible',Z='input[type="checkbox"][name="',Q="aria-invalid",l="data-invalid",Y="[data-invalid]:not([data-invalid-no-error])",P="[data-validation-group]",H="']",O="data-validation-group",C='"]',N="name",X="data-name",mb="InputTooHigh",lb="InputTooLow",e="",p="core.formvalidation",a=null,W=" does not have one of the allowed input types. Please fix, or update FormValidation.js to accomodate the new type.",M="email",B="tel",G="captcha",A="selectable",z="number",o="text",y="time",x="date",n="radio",m="checkbox",u="select",r=":visible",w="[data-invalid]",V="data-disable-if-invalid",g="true",U="data-clicked",L="[data-validation-group][data-invalid]",f="undefined",t="data-validation-settings",d=false,c=true,k="input",s={},T="input[data-validation-settings],select[data-validation-settings],textarea[data-validation-settings],.selectable [data-validation-settings],.mychart-captcha[data-validation-settings]",v="form, [data-validation-group]",F,jb=0,yb=function WP$FormValidation$s_initializeFramework(){var a=$afe.select("body");a.on("focusout input change",T,gb);a.on("validationUpdated",T,tb);a.on("click",".selectable [data-validation-settings]",gb);a.on("click",'form input[type="submit"]',vb);a.on("submit","form",sb);hb(a)},gb=function WP$FormValidation$s_validateInputCallback(a){K(a.currentTarget,a.type==="focusout"||a.type==="change"||a.type===k&&document.activeElement!==a.currentTarget,c)},tb=function WP$FormValidation$s_validationUpdatedCallback(b,a){K(b.currentTarget,d,c,d,a,c)},K=function WP$FormValidation$s_validateInput(m,k,j,l,g,i){var d,b,e,a;d=$afe.jq(m);b=d.safeAttr(t);if(typeof b===f)return;e=new h($.parseJSON(b));a=new E(d,e,k,j,l,i);a.validateInput();if(!g&&(a.valid!==a.initiallyValid||a.$form.is(L))){J(a.$form,c);$$WP.Utilities.UI&&$$WP.Utilities.UI.MatchColumnHeights()}},vb=function WP$FormValidation$s_flagClickedSubmitButton(a){$afe.jq(a.target).safeAttr(U,g)},sb=function WP$FormValidation$s_preventInvalidFormSubmission(b){var c,a,d;c=$afe.jq(b.target);a=c.find('input[type="submit"][data-clicked]');a.removeAttr(U);if(a.length!==0&&!a.get(0).hasAttribute(V))return;d=c.find(w).filter(r);if(d.length>0){b.preventDefault();b.stopImmediatePropagation()}},eb=function WP$FormValidation$s_getInputType(c){var b,a;b=c.get(0).nodeName.toLowerCase();a=c.safeAttr("type");if(b===u)return u;if(b===k&&a===m)return m;if(b===k&&a===n)return n;if(b===k&&a===x)return x;if(b===k&&a===y)return y;if(b==="textarea"||b===k&&(a===o||a==="password"||typeof a===f))return o;if(b===k&&a===z)return z;if(c.closest(".selectable, [data-validation-group], form").hasClass(A))return A;if(c.hasClass("mychart-captcha"))return G;if(b===k&&a===B)return B;if(b===k&&a===M)return M;else $$WP.Debug.logError(this.input+W)},kb=function WP$FormValidation$s_isLiteralInput(b){var a=eb(b);return a===u||a===m||a===n||a===B||a===o||a===y||a===x||a===z},Cb=function WP$FormValidation$s_putInputCache(c){var b,a;b=c.closest(v);if(F)a=F.get(b[0]);a=a||[];a.push(c[0]);F.set(b[0],a)},zb=function $WPFormValidation$s_getInputsFromCache(d,c){var b,a;if(F)b=F.get(d[0]);if(b){a=$afe.jq(b);if(c)a=a.filter(c)}return a},Bb=function $WPFormValidation$s_generateUniqueId(){var a;do{a="parent-form-gen-id_"+jb;jb++}while(!$afe.select("#"+a));return a},I=function WP$FormValidation$ValidationGroup(a){$.type(a)==="object"&&this._parseRawGroup(a)};I.prototype={allRequired:d,disableButtonsWhenEmpty:d,evaluateNestedGroups:d,evaluateParentGroups:d,name:a,_parseRawGroup:function WP$FormValidation$ValidationGroup$_parseRawGroup(b){var a;for(a in b)if(a in I.prototype)this[a]=b[a];else $$WP.Debug.logError("'"+a+"' is not a recognized option in the data-validation-group attribute")},toJSON:function WP$FormValidation$ValidationGroup$toJSON(){var b,a;b={};for(a in this)if(this[a]!==I.prototype[a])b[a]=this[a];return JSON.stringify(b)}};var h=function WP$FormValidation$ValidationSettings(a){$.type(a)==="object"&&this._parseRawSettings(a);this.stringsNamespace=$$WP.Strings.getNamespace(this.stringsNamespace||p)};h.prototype={required:d,nullValue:e,maxLength:a,showCharacterCounter:d,isUSZipCode:d,isEmail:d,isCurrency:d,isNumber:d,precision:0,min:a,max:a,isDate:d,isTime:d,minDate:a,maxDate:a,atLeastOneChecked:d,stringsNamespace:a,_invalidValues:a,_invalidValuesErrorStringName:a,_invalidValuesCustomError:a,_parseRawSettings:function WP$FormValidation$ValidationSettings$_parseRawSettings(d){var b=this,c;for(c in d)if(c in h.prototype)b[c]=d[c];else $$WP.Debug.logError("'"+c+"' is not a recognized option in the data-validation-settings attribute");b.stringsNamespace!==a&&b.stringsNamespace.toLowerCase().indexOf(p)!==0&&$$WP.Debug.logError("Custom namespaces for form validation messages should be sub-namespaces of Core.FormValidation. '"+b.stringsNamespace+"' is not valid.");if(b.isDate){if(b.minDate!==a)b.minDate=new Date(b.minDate);if(b.maxDate!==a)b.maxDate=new Date(b.maxDate)}},toJSON:function WP$FormValidation$ValidationSettings$toJSON(){var a,b;a={};for(b in this)if(this[b]!==h.prototype[b])a[b]=this[b];if(typeof a.minDate!==f)a.minDate=a.minDate.toISOString().substring(0,10);if(typeof a.maxDate!==f)a.maxDate=a.maxDate.toISOString().substring(0,10);if(a.stringsNamespace.name!==p)a.stringsNamespace=a.stringsNamespace.name;else delete a.stringsNamespace;return JSON.stringify(a)}};h.WholeNumber=new h({isNumber:c,min:0,precision:0});h.NaturalNumber=new h({isNumber:c,min:1,precision:0});h.Integer=new h({isNumber:c,precision:0});h.Required=new h({required:c});h.AtLeastOneChecked=new h({atLeastOneChecked:c});h.None=new h;var b=function WP$FormValidation$ValidationProblem(c,f,d,e){var a=this;a.priority=c;a.stringName=f;a.onlyDisplayIssueOnLeavingInput=d;a.customErrorMessage=e;b.priority2instance[c]=a};b.prototype={priority:a,stringName:a,onlyDisplayIssueOnLeavingInput:c,customErrorMessage:a};b.priority2instance={};b.empty=new b(1,"InputRequired");b.tooLong=new b(2,"InputTooLong");b.noneChecked=new b(3,"NoneChecked");b.notEmail=new b(4,"InputNotEmail");b.notCurrency=new b(5,"InputNotCurrency");b.currencyTooLow=new b(6,lb);b.currencyTooHigh=new b(7,mb);b.notNumber=new b(8,"InputNotNumber");b.notWholeNumber=new b(9,"InputNotWholeNumber");b.numberTooLow=new b(10,lb);b.numberTooHigh=new b(11,mb);b.notFormattedDate=new b(12,"InputNotFormattedDate");b.notDateInvalidMonth=new b(13,"InputNotDateInvalidMonth");b.notDateInvalidDay=new b(14,"InputNotDateInvalidDay");b.notDateInvalidYear=new b(15,"InputNotDateInvalidYear");b.dateTooEarly=new b(16,"InputTooEarly");b.dateTooLate=new b(17,"InputTooLate");b.notTime=new b(18,"InputNotTime");b.invalidCaptcha=new b(19,"InvalidCaptcha");b.notZIP=new b(20,"InputNotZIP");b.invalid=new b(98,"InputInvalid");b.groupInvalid=new b(99,"IncompleteGroup");var E=function WP$FormValidation$InputValidator(b,j,p,o,q,k){var d="aria-live",a=this,e,i;a.$input=b;a.input=b.get(0);a.validationSettings=j;a.asLeavingInput=p;a.updateAppearance=o;a.removeErrorsOnly=k;a.checkStructure=q;if(typeof a.validationSettings===f){e=b.safeAttr(t);if(typeof e===f)a.validationSettings=new h;else a.validationSettings=new h($.parseJSON(e))}a.inputName=b.safeAttr(X)||b.safeAttr(N);a.$form=b.closest(v);a.$messageDisplay=a.$form.find('[data-message-display-for="'+a.inputName+C);a.nodeName=a.input.nodeName.toLowerCase();if(!a._checkProperStructure())return;a.$input.safeAttr("aria-describedby",a.inputName+"_message");a.$messageDisplay.length>0&&!a.$messageDisplay[0].hasAttribute(d)&&a.$messageDisplay.safeAttr(d,"polite");i=a.$form.safeAttr(O);if(typeof i===f)a.validationGroup=new I;else{a.validationGroup=new I($.parseJSON(i));a.$groupMessageDisplay=a.$form.find("[data-message-display-for='"+a.validationGroup.name+H);a.$groupMessageDisplay.length>0&&!a.$groupMessageDisplay[0].hasAttribute(d)&&a.$groupMessageDisplay.safeAttr(d,"polite")}a.inputValue=b.val();a.inputType=eb(a.$input);a.isLiteralInput=kb(a.$input);if(a.inputType===m)a.inputValue=a.input.checked===c&&b.is(r);else if(a.inputType===n)a.inputValue=a.$form.find('input[name="'+a.inputName+'"]:checked').val();else if(a.inputType===G)a.inputValue=b.find("*[id*=g-recaptcha-response]").first().val();if(a.$form.is(P)){a.initiallyValid=!a.$input.is(w)&&!a.$form.is(Y);!a.initiallyValid&&b.safeAttr(l,g).safeAttr(Q,g)}else a.initiallyValid=!a.$input.is(w);(a.validationSettings.required||a.validationSettings.atLeastOneChecked)&&b.safeAttr("aria-required",g)};E.prototype={$input:a,input:a,$form:a,validationSettings:a,validationGroup:a,asLeavingInput:c,updateAppearance:a,removeErrorsOnly:d,checkStructure:a,$messageDisplay:a,$groupMessageDisplay:a,nodeName:a,inputName:a,inputType:a,inputValue:a,initiallyValid:a,isLiteralInput:a,_domHasProperStructure:a,_highestPriorityProblem:a,valid:a,standardizedInputValue:a,validateInput:function WP$FormValidation$InputValidator$validateInput(){var b=this,k,i,e,p,f,h,j;if(b.checkStructure&&!b._domHasProperStructure)return;b._highestPriorityProblem=a;if(b.inputType===u)b._validateSelectInput();else if(b.inputType===m)b._validateCheckboxInput();else if(b.inputType===n)b._validateRadioInput();else if(b.inputType===o)b._validateTextInput();else if(b.inputType===x)b._validateDateInput();else if(b.inputType===y)b._validateTimeInput();else if(b.inputType===A)b._validateSelectableElement();else if(b.inputType===G)b._validateCaptcha();else if(b.inputType===z)b._validateNumberInput();else if(b.inputType===B)b._validatePhoneInput();else b._validateOtherInput();b.valid=b._highestPriorityProblem===a;if(b.valid)b._findInputsWithSameName().removeAttr(l).removeAttr(Q);else b._findInputsWithSameName().safeAttr(l,g).safeAttr(Q,g);if(b.$form.is(P)){if(b.validationGroup.allRequired){k=b.$form.find(T).filter(r);e=[];for(f=0;f<k.length;f++){i=$afe.jq(k.get(f));p=i.safeAttr(X)||i.safeAttr(N);$.inArray(p,e)<0&&e.push(p)}h=e.length;j=0;for(f=0;f<e.length;f++){i=b.$form.find(":input[name='"+e[f]+"'], [data-name='"+e[f]+H);if(b._checkIfHasValue(i))h=h-1;else if(!i.is("[optional-in-group]"))j=j+1}b._checkIfGroupInvalid(j>0&&h!==e.length||h===e.length&&b.validationGroup.disableButtonsWhenEmpty,h===e.length||j===0)}else b._checkIfGroupInvalid(d,c);b.validationGroup.evaluateNestedGroups&&b._evaluateNestedGroups();b.validationGroup.evaluateParentGroups&&b._evaluateParentGroups()}b._updateValidationDisplay()},_validateSelectInput:function WP$FormValidation$InputValidator$_validateSelectInput(){var c=this;if(c.$input.prop("multiple")){var d=c.inputValue===a||$.isArray(c.inputValue)&&c.inputValue.length===1&&c.inputValue[0]===c.validationSettings.nullValue;c._checkIfInvalid(c.validationSettings.required&&d,b.empty);c._checkIfInvalid(c.validationSettings.atLeastOneChecked&&d,b.noneChecked)}else c._checkIfInvalid(c.validationSettings.required&&c.inputValue===c.validationSettings.nullValue,b.empty)},_validateCheckboxInput:function WP$FormValidation$InputValidator$_validateCheckboxInput(){var a=this,c;a._checkIfInvalid(a.validationSettings.required&&!a.inputValue,b.empty);if(a.validationSettings.atLeastOneChecked&&!a.inputValue){c=a.$form.find(Z+a.inputName+ab);a._checkIfInvalid(c.length===0,b.noneChecked)}},_validateNumberInput:function WP$FormValidation$InputValidator$_validateNumberInput(){var d=this,l,f,h,j,g,k,m,n,i;l=d.inputValue.length;f=d.inputValue.trim();d.standardizedInputValue=f;d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.required&&l===0,b.empty);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.maxLength!==a&&l>d.validationSettings.maxLength,b.tooLong);d._checkIfInvalid(d._highestPriorityProblem===a&&d.inputValue!==e&&d.validationSettings.isUSZipCode&&!f.match(E.USZipCodeRegEx),b.notZIP);if(d._highestPriorityProblem===a&&d.validationSettings.isCurrency&&f.length>0){h=$$WP.I18N.parseCurrency(f);j=!isNaN(h);d._checkIfInvalid(d._highestPriorityProblem===a&&!j,b.notCurrency);if(j&&d.asLeavingInput&&d._highestPriorityProblem===a)d.standardizedInputValue=$$WP.I18N.formatNumber(h,$$WP.CurrentLocale.CurrencyDecimalPlaces,c);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.min!==a&&h<d.validationSettings.min,b.currencyTooLow);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.max!==a&&h>d.validationSettings.max,b.currencyTooHigh)}if(d._highestPriorityProblem===a&&d.validationSettings.isNumber&&f.length>0){g=$$WP.I18N.parseNumber(f);k=!isNaN(g);d._checkIfInvalid(d._highestPriorityProblem===a&&!k,b.notNumber);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.precision===0&&g%1!==0,b.notWholeNumber);if(k&&d.asLeavingInput&&d._highestPriorityProblem===a)d.standardizedInputValue=$$WP.I18N.formatNumber(g,d.validationSettings.precision);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.min!==a&&g<d.validationSettings.min,b.numberTooLow);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.max!==a&&g>d.validationSettings.max,b.numberTooHigh)}if(d._highestPriorityProblem===a&&d.validationSettings._invalidValues&&f.length>0){if(d.validationSettings._invalidValuesErrorStringName)i=new b(98,d.validationSettings._invalidValuesErrorStringName);else i=b.invalid;d._checkIfInvalid(d.validationSettings._invalidValues.indexOf(f)!==-1,i)}},_validateRadioInput:function WP$FormValidation$InputValidator$_validateRadioInput(){var d=this;d._checkIfInvalid(d.validationSettings.required&&typeof d.inputValue===f,b.empty);if(d.validationSettings.atLeastOneChecked&&!d.inputValue){$checkedRadioButtons=d.$form.find(bb+d.inputName+ab);d._checkIfInvalid($checkedRadioButtons.length===0,b.noneChecked)}if(d._highestPriorityProblem===a&&d.validationSettings._invalidValues){if(d.validationSettings._invalidValuesErrorStringName)customValidationProblem=new b(98,d.validationSettings._invalidValuesErrorStringName);else if(typeof d.validationSettings._invalidValuesCustomError===R&&d.validationSettings._invalidValuesCustomError!==e)customValidationProblem=new b(98,undefined,c,d.validationSettings._invalidValuesCustomError);else customValidationProblem=b.invalid;d._checkIfInvalid(c,customValidationProblem)}},_validateTextInput:function WP$FormValidation$InputValidator$_validateTextInput(){var d=this,j,f,g,i,k,m,l,h;j=d.inputValue.length;f=d.inputValue.trim();d.standardizedInputValue=f;d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.required&&j===0,b.empty);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.maxLength!==a&&j>d.validationSettings.maxLength,b.tooLong);d._checkIfInvalid(d._highestPriorityProblem===a&&d.inputValue!==e&&d.validationSettings.isUSZipCode&&!f.match(E.USZipCodeRegEx),b.notZIP);if(d.validationSettings.isEmail){d.standardizedInputValue=xb(f);f=d.standardizedInputValue}d._checkIfInvalid(d._highestPriorityProblem===a&&d.inputValue!==e&&d.validationSettings.isEmail&&!f.match(E.emailRegEx),b.notEmail);if(d._highestPriorityProblem===a&&d.validationSettings.isCurrency&&f.length>0){g=$$WP.I18N.parseCurrency(f);i=!isNaN(g);d._checkIfInvalid(d._highestPriorityProblem===a&&!i,b.notCurrency);if(i&&d.asLeavingInput&&d._highestPriorityProblem===a)d.standardizedInputValue=$$WP.I18N.formatNumber(g,$$WP.CurrentLocale.CurrencyDecimalPlaces,c);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.min!==a&&g<d.validationSettings.min,b.currencyTooLow);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.max!==a&&g>d.validationSettings.max,b.currencyTooHigh)}if(d._highestPriorityProblem===a&&d.validationSettings.isNumber&&f.length>0){k=$$WP.I18N.parseNumber(f);d._checkIfValidNumber(k)}d._highestPriorityProblem===a&&d.validationSettings.isDate&&f.length>=0&&d._checkIfValidDate(f,d.validationSettings.required);if(d._highestPriorityProblem===a&&d.validationSettings.isTime&&f.length>0){l=$$WP.I18N.parseTime(f);d._checkIfValidTime(l)}if(d._highestPriorityProblem===a&&d.validationSettings._invalidValues&&f.length>0){if(d.validationSettings._invalidValuesErrorStringName)h=new b(98,d.validationSettings._invalidValuesErrorStringName);else h=b.invalid;d._checkIfInvalid(d.validationSettings._invalidValues.indexOf(f)!==-1,h)}},_validatePhoneInput:function WP$FormValidation$InputValidator$_validatePhoneInput(){var f=this,d,g,h;d=f.inputValue.trim();while(d.substring(0,1)==="#")d=d.substring(1);f.standardizedInputValue=d;h=new RegExp("[-. ()]","g");d=d.replace(h,e);f._checkIfInvalid(f._highestPriorityProblem===a&&(d!==e||f.validationSettings.required===c)&&!$$WPUtil.isValidPhoneNumber(d),b.invalid);if(f._highestPriorityProblem===a&&f.validationSettings._invalidValues&&d.length>0){if(f.validationSettings._invalidValuesErrorStringName)g=new b(98,f.validationSettings._invalidValuesErrorStringName);else g=b.invalid;f._checkIfInvalid(f.validationSettings._invalidValues.indexOf(d)!==-1,g)}},_validateOtherInput:function WP$FormValidation$InputValidator$_validateOtherInput(){var c=this,e,d;e=c.inputValue.trim();if(c._highestPriorityProblem===a&&c.validationSettings._invalidValues&&e.length>0){if(c.validationSettings._invalidValuesErrorStringName)d=new b(98,c.validationSettings._invalidValuesErrorStringName);else d=b.invalid;c._checkIfInvalid(c.validationSettings._invalidValues.indexOf(e)!==-1,d)}},_checkIfValidNumber:function WP$FormValidation$InputValidator$_checkIfValidNumber(d){var c=this,e;e=!isNaN(d);c._checkIfInvalid(c._highestPriorityProblem===a&&!e,b.notNumber);c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.precision===0&&d%1!==0,b.notWholeNumber);if(e&&c.asLeavingInput&&c._highestPriorityProblem===a)c.standardizedInputValue=$$WP.I18N.formatNumber(d,c.validationSettings.precision);c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.min!==a&&d<c.validationSettings.min,b.numberTooLow);c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.max!==a&&d>c.validationSettings.max,b.numberTooHigh)},_validateDateInput:function WP$FormValidation$InputValidator$_validateDateInput(){var c=this,f,d;if(c.input===document.activeElement)return;c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.required&&c.inputValue===e,b.empty);c._checkIfValidDate(c.inputValue,c.validationSettings.required);f=c.inputValue.trim();if(c._highestPriorityProblem===a&&c.validationSettings._invalidValues&&f.length>0){if(c.validationSettings._invalidValuesErrorStringName)d=new b(98,c.validationSettings._invalidValuesErrorStringName);else d=b.invalid;c._checkIfInvalid(c.validationSettings._invalidValues.indexOf(f)!==-1,d)}},_checkIfValidDate:function WP$FormValidation$InputValidator$_checkIfValidDate(f,h){var c=this,g;if(f===e&&!h)return;var d=new $$WP.I18N.Date(f,c.inputType);if(d.DateObject!==a&&!d.isValid()){c._checkIfInvalid(!d.DayOfMonth.isValid(),b.notDateInvalidDay);c._checkIfInvalid(!d.Month.isValid(),b.notDateInvalidMonth);c._checkIfInvalid(!d.Year.isValid(),b.notDateInvalidYear)}c._checkIfInvalid(d.DateObject===a,b.notFormattedDate);if(d.DateObject!==a){if(c.asLeavingInput&&c.inputType===o)if(d.isSpilledOver()||!d.Year.isValid())c.standardizedInputValue=f;else c.standardizedInputValue=$$WP.I18N.formatPatientGivenDate(d.DateObject);g=d.DateObject.getTime()}else return;c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.minDate!==a&&g<c.validationSettings.minDate.getTime(),b.dateTooEarly);c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.maxDate!==a&&g>c.validationSettings.maxDate.getTime()+1,b.dateTooLate)},_validateTimeInput:function WP$FormValidation$InputValidator$_validateTimeInput(){var c=this,d;if(c.input===document.activeElement)return;if(c.inputValue===e){c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.required,b.empty);return}d=$$WP.I18N.parse24HrTime(c.inputValue);c._checkIfValidTime(d)},_checkIfValidTime:function WP$FormValidation$InputValidator$_checkIfValidTime(d){var c=this;c._checkIfInvalid(d===a,b.notTime);if(d!==a)if(c.asLeavingInput&&c.inputType===o)c.standardizedInputValue=$$WP.I18N.formatPatientGivenTime(d)},_validateSelectableElement:function WP$FormValidation$InputValidator$_validateSelectableElement(){var a=this,c;if(a.validationSettings.atLeastOneChecked&&!a.inputValue){c=a.$form.find("[data-name='"+a.inputName+"'].selected");a._checkIfInvalid(c.length===0,b.noneChecked)}},_validateCaptcha:function WP$FormValidation$InputValidator$_validateCaptcha(){var a=this.inputValue.trim();this._checkIfInvalid(this.validationSettings.required&&a.length===0,b.invalidCaptcha)},_evaluateNestedGroups:function WP$FormValidation$InputValidator$_evaluateNestedGroups(a){var b;if(!a)a=this.$form;b=a.find(L);if(b.length>0){a.safeAttr(l,g);return c}return d},_evaluateParentGroups:function WP$FormValidation$InputValidator$_evaluateParentGroups(){var d=this,h,c,b,a,e,f;h=d.$form;c=h.parents(v);if(c.length!==0)for(b=0;b<c.length;b++){a=$afe.jq(c[b]);e=new I($.parseJSON(a.safeAttr(O)||"{}"));if(e.evaluateNestedGroups)if(!d._evaluateNestedGroups(a)){f=d._findDirectChildInputs(a,w);if(d._hasVisibleElement(f))a.safeAttr(l,g);else a.removeAttr(l)}}},_findDirectChildInputs:function WP$FormValidation$InputValidator$_findDirectChildInputs(b,c){var a;a=zb(b,c);if(!a)if($afe.select(cb).length>0)a=b.find("[parent-form='"+b[0].id+H).filter(c);else{a=b.find(c);a=a.filter(function WP$FormValidation$checkIfFormIsValid$invalidInputsFilter(){return $afe.jq(this).closest(v).is(b)})}return a},_hasVisibleElement:function WP$FormValidation$InputValidator$_hasVisibleElement(b){for(var a=0;a<b.length;a++)if($afe.jq(b.get(a)).is(r))return c},_updateValidationDisplay:function WP$FormValidation$InputValidator$_updateValidationDisplay(){var d="data-invalid-reason",c=this,g,f,j,k,i,h;if(!c.updateAppearance)return;g=(c.inputValue||e)+e;i=c.validationSettings.maxLength||0;h=g.length;k={"@MYCHART@CHARACTERLIMIT@":{Value:i,EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@CHARACTERSUSED@":{Value:h,EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@CHARACTERSREMAINING@":{Value:i-h,EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@MINIMUM@":{Value:$$WP.I18N.formatNumber(c.validationSettings.min||0,c.validationSettings.precision),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@MAXIMUM@":{Value:$$WP.I18N.formatNumber(c.validationSettings.max||0,c.validationSettings.precision),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@DATEFORMAT@":{Value:c._getDateFormatForDisplay(),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@MINDATE@":{Value:$$WP.I18N.formatPatientGivenDate(c.validationSettings.minDate),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@MAXDATE@":{Value:$$WP.I18N.formatPatientGivenDate(c.validationSettings.maxDate),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@TIMEFORMAT@":{Value:c._getTimeFormatForDisplay(),EncodingType:$$WP.Strings.EncodingTypes.None}};c.validationSettings.stringsNamespace.addMnemonics(k);if(c.validationSettings.isDate&&!c.validationSettings.minDate)c.validationSettings.minDate="1841-01-01";if(c.valid||c._highestPriorityProblem.onlyDisplayIssueOnLeavingInput&&!c.asLeavingInput){c.$input.removeClass("invalid");c.$messageDisplay.empty();c.$messageDisplay.removeAttr(d)}else if(!c.removeErrorsOnly&&!c.valid){c.$input.addClass("invalid");j=Number(c.$messageDisplay.safeAttr(d));var l=c.validationSettings.maxLength&&c.validationSettings.maxLength<h;if(j!==c._highestPriorityProblem&&c.asLeavingInput||l||c.$input.hasClass("togglebutton")){f=c._highestPriorityProblem.customErrorMessage;if(typeof f!==R||f===e)f=c.validationSettings.stringsNamespace.getString(c._highestPriorityProblem.stringName);c.$messageDisplay.empty();c.$messageDisplay.safeAppend($$WP.SimpleTemplates.ValidationMessage(f));c.$messageDisplay.safeAttr(d,c._highestPriorityProblem)}}c.valid&&c.validationSettings.showCharacterCounter&&!c.asLeavingInput&&c.input===document.activeElement&&$$WP.Strings.setDisplayText(c.$messageDisplay.get(0),"CharacterCounter",c.validationSettings.stringsNamespace);if(c.standardizedInputValue!==a&&c.asLeavingInput){c.$input.val(c.standardizedInputValue);if(c.$input.hasClass("slidervalue"))(c.standardizedInputValue===e&&c.standardizedInputValue!==g||c.standardizedInputValue!==e&&$$WP.I18N.parseNumber(c.standardizedInputValue)!==$$WP.I18N.parseNumber(g))&&c.$input.trigger("updateslider")}if(c.$form.is(P)){if(c.$form.is(Y)){f=c.validationSettings.stringsNamespace.getString(b.groupInvalid.stringName);c.$groupMessageDisplay.empty();c.$groupMessageDisplay.safeAppend($$WP.SimpleTemplates.ValidationMessage(f));c.$groupMessageDisplay.safeAttr(d,b.groupInvalid)}else c.$groupMessageDisplay.empty();c.valid=c.valid&&!c.$form.is(w)}c.validationSettings.stringsNamespace.clearMnemonics()},_checkIfInvalid:function WP$FormValidation$InputValidator$_checkIfInvalid(c,b){if(c&&(this._highestPriorityProblem===a||this._highestPriorityProblem.priority>b.priority))this._highestPriorityProblem=b},_checkIfGroupInvalid:function WP$FormValidation$InputValidator$_checkIfGroupInvalid(e,d){var a="data-invalid-no-error",c,b=this.$form;if(e){b.safeAttr(l,g);if(d)b.safeAttr(a,g);else b.removeAttr(a)}else{c=this._findDirectChildInputs(b,"input[data-invalid], select[data-invalid], textarea[data-invalid], .selectable [data-invalid]");if(this._hasVisibleElement(c)){b.safeAttr(l,g);d&&b.safeAttr(a,g)}else b.removeAttr(l).removeAttr(a)}},_checkIfHasValue:function WP$FormValidation$InputValidator$_checkIfHasValue(b){var a=eb(b.first());if(a===u)return b.val()!==$.parseJSON(b.safeAttr(t)).nullValue;if(a===m||a===n)return b.is(":checked");if(a===o||a===x||a===y||a===z||a===B||a===M)return b.val().length>0;if(a===A)return b.hasClass("selected");if(a===G)return b.find("#g-recaptcha-response").val().length>0;else $$WP.Debug.logError(this.input+W)},_getDateFormatForDisplay:function WP$FormValidation$InputValidator$_getDateFormatForDisplay(){return $$WP.I18N.DateFormat.toLowerCase().replace(/d+/g,this.validationSettings.stringsNamespace.getString("DD")).replace(/m+/g,this.validationSettings.stringsNamespace.getString("MM")).replace(/y+/g,this.validationSettings.stringsNamespace.getString("YYYY"))},_getTimeFormatForDisplay:function WP$FormValidation$InputValidator$_getTimeFormatForDisplay(){return $$WP.I18N.TimeFormat.toLowerCase().replace(/h+/g,this.validationSettings.stringsNamespace.getString("HH")).replace(/m+/g,this.validationSettings.stringsNamespace.getString("MI")).replace(/t+/g,this.validationSettings.stringsNamespace.getString("TT"))},_checkProperStructure:function WP$FormValidation$InputValidator$_checkProperStructure(){var g="maxlength",e='"].required',a=this,b,k,j,i,h;if(!a.checkStructure||a._domHasProperStructure)return c;b=c;if(typeof a.inputName===f){$$WP.Debug.logError(a.input+" needs to specify the 'name' or 'data-name' attribute");b=d}if(a.$messageDisplay.length===0){$$WP.Debug.logError(a.input+" needs to have a message display element specified using the data-message-display-for attribute.");b=d}if(a.$form.length===0){$$WP.Debug.logError(a.input+" needs to be in a <form> or validation-group to make use of the form validation framework.");b=d}if(a.validationSettings.required&&typeof a.inputName!==f&&kb(a.$input)){k=a.$form.find('label[for="'+a.$input.safeAttr("id")+e);if(k.length===0){j=a.$input.closest("fieldset").find("legend.required");if(j.length===0){i=a.$input.closest('[role="radiogroup"]');h=a.$form.find('[id="'+i.safeAttr("aria-labelledby")+e);if(h.length===0){$$WP.Debug.logError(a.input+" is required, but no associated <label> or <legend> element has the 'required' CSS class");b=d}}}}a.validationSettings.isNumber&&!a.input.hasAttribute(g)&&a.$input.safeAttr(g,15);a._domHasProperStructure=b;return b},_findInputsWithSameName:function WP$FormValidation$InputValidator$_findInputsWithSameName(){var a=this,b=$();if(a.inputType===m)b=a.$form.find(Z+a.inputName+'"], input[type="checkbox"][data-name="'+a.inputName+C);else if(a.inputType===A)b=a.$form.find('[name="'+a.inputName+'"], [data-name="'+a.inputName+C);else if(a.inputType===u)b=a.$form.find('select[name="'+a.inputName+'"], select[data-name="'+a.inputName+C);else if(a.inputType===n)b=a.$form.find(bb+a.inputName+'"], input[type="radio"][data-name="'+a.inputName+C);return b.add(a.$input)}};E.USZipCodeRegEx=/^(\d{5}(-?\d{4})?)$/;E.emailRegEx=/^[A-Za-z0-9\xC0-\xFFƒŠŒŽšœžŸ._$!#&'*/=?^`{|}~%+-]{1,64}@[A-Za-z0-9\xC0-\xFFƒŠŒŽšœžŸ.-]+\.[A-Za-z\xC0-\xFFƒŠŒŽšœžŸ]{2,18}$/;var hb=function WP$FormValidation$initializeDOMSubtree(j,w,s){var h="placeholder",g,b,k,a,q,l,u,p,i=d;F=new Map;g=j.find(T);for(b=0;b<g.length;b++){k=g.get(b);a=$afe.jq(k);l=a.safeAttr(N);p=a.safeAttr("type");if(s){if(l===u){if(p===n||i)continue}else i=d;if(p===m&&a.is(r))i=c}if(k.type===o&&$.parseJSON(a.safeAttr(t)).isDate===c)a.attr(h)!==$$WP.I18N.getDateFormatForDisplay()&&a.safeAttr(h,$$WP.I18N.getDateFormatForDisplay());Cb(a);q=typeof a.safeAttr("data-initially-invalid")!==f;K(g.get(b),d,w||q,c,c);u=l}if(g.length>0){F.forEach(function(d,a){if(s)for(b=0;b<d.length;b++){if(a.id===e)a.id=Bb();$afe.jq(d[b]).safeAttr("parent-form",a.id)}J($afe.jq(a),c)});$$WP.Utilities.UI&&$$WP.Utilities.UI.MatchColumnHeights()}j.is(v)&&J(j,c);F.clear()},J=function WP$FormValidation$checkIfFormIsValid(e,s){var g="disabled",h,b,l,o,m,n;if(e.length===0){$$WP.Debug.logError("Inputs need to be in a <form> or validation-group to make use of the form validation framework");return d}if($afe.select(cb).length>0)h=e.find("[data-invalid]:not([data-invalid-ignore])[parent-form='"+e.safeAttr("id")+H).filter(r);else{h=e.find("[data-invalid]:not([data-invalid-ignore])").filter(r);h=h.filter(function WP$FormValidation$checkIfFormIsValid$invalidInputsFilter(){return $afe.jq(this).parent().closest(v).is(e)})}l=e.is(L);if(s){b=ib(e);if(b.length===0)$$WP.Debug.logError("Buttons to save or continue the workflow need to be marked with the data-disable-if-invalid property to prevent submission of invalid inputs.");else if(b.filter(function WP$FormValidation$checkIfFormIsValid$buttonsFilter(){return $afe.jq(this).closest(v).is(e)}).length===0)if(!l)o=!J(e.parents(v),d);if(h.length>0||l||o){b.addClass(g);b.prop(g,c);for(var k=0;k<b.length;k++){var a=$afe.jq(b[k]);!a.hasClass(g)&&a.safeAttr(q,a.safeAttr(i));(!a.safeAttr(j)||a.safeAttr(j)===a.safeAttr(S))&&a.safeAttr(j,$$WP.Strings.get(D,$$WP.Strings.getNamespace(p)));a.safeAttr(i,$$WP.Strings.get(D,$$WP.Strings.getNamespace(p)))}}else{b.removeClass(g);b.prop(g,d);for(var k=0;k<b.length;k++){var a=$afe.jq(b[k]);(!a.safeAttr(j)||a.safeAttr(j)===$$WP.Strings.get(D,$$WP.Strings.getNamespace(p)))&&a.safeAttr(j,a.safeAttr(S));if(!a.safeAttr(i)||a.safeAttr(i)===$$WP.Strings.get(D,$$WP.Strings.getNamespace(p)))if(a.safeAttr(q)){a.safeAttr(i,a.safeAttr(q));a.removeAttr(q)}else a.safeAttr(i,a.safeAttr(j))}}}m=e.safeAttr(O);n=typeof m!==f&&$.parseJSON(m).evaluateParentGroups;n&&J(e.parents(v),c);return h.length!==0?d:l?d:c},ub=function WP$FormValidation$updateButtonAfterValidation(b,g,k,f,n,m){var h,l;l=b.safeAttr(V);if(typeof l===typeof undefined||l===d){console.error("updateButtonAfterValidation should only be called on button which has data-disable-if-invalid attribute.");return}if(g===undefined||g===e||g===a){console.error("updateButtonAfterValidation should always expect a button value.");return}b.safeAttr(S,g);h=b.safeAttr(q);if(h!==undefined&&h!==e&&h!==a)if(f!==undefined&&f!==e&&f!==a)b.safeAttr(q,f);else if(m===c)b.removeAttr(q);else b.safeAttr(q,g);if(b.safeAttr(i)===$$WP.Strings.get(D,$$WP.Strings.getNamespace(p)))return;if(n===c)b.removeAttr(j);else if(k!==undefined&&k!==e&&k!==a)b.safeAttr(j,k);else b.safeAttr(j,g);if(m===c)b.removeAttr(i);else if(f!==undefined&&f!==e&&f!==a)b.safeAttr(i,f);else b.safeAttr(i,g)},ib=function WP$FormValidation$getButtonsToModify(b){var a;if(b.length===0)return b;a=b.find("[data-disable-if-invalid]");a=a.filter(function WP$FormValidation$checkIfFormIsValid$buttonsFilter(){return $afe.jq(this).closest(v).is(b)});return a.length===0?ib(b.parents(v)):a},Ab=function WP$FormValidation$addValidationError(b,i,g){var e,a;if(b.length===0){$$WP.Debug.logError("Cannot add error without input");return d}e=b.safeAttr(t);if(typeof e===f)a=new h;else a=new h($.parseJSON(e));a._invalidValues=a._invalidValues||[];a._invalidValues.push(b.val());a._invalidValuesErrorStringName=i;a._invalidValuesCustomError=g;b.safeAttr(t,a.toJSON());K(b,c,c)},rb=function WP$FormValidation$resetValidationError(b,a){K(b,c,a)},xb=function WP$FormValidation$removeSmartApostrophes(a){a=a.replace("‘","'");a=a.replace("’","'");return a},ob=function WP$FormValidation$Handlebars$generateValidationSettingsAttribute(b){var a;a=db+b.toJSON()+" ";return a},fb=function WP$FormValidation$Handlebars$generateMessageDisplayForAttribute(a){return' data-message-display-for="'+a+'"'},wb=function WP$FormValidation$Handlebars$generateMessageDisplay(d,a){var c,b;c=' id="'+d+'_message" ';b=' aria-live="polite" ';if(typeof a!==R)a=e;if(a.indexOf('class="')===-1)a+=' class="messagedisplay" ';return new Handlebars.SafeString("<div"+c+b+fb(d)+a+"></div>")},pb=function WP$FormValidation$Handlebars$generateDisableIfInvalidAttribute(){return" data-disable-if-invalid "},qb=function WP$FormValidation$Handlebars$generateValidationGroupAttribute(a){return" data-validation-group="+a.toJSON()},nb=function WP$FormValidation$Handlebars$generateValidationRequiredAttribute(){return db+h.Required.toJSON()},Db=function WP$FormValidation$resetReCaptcha(){K($afe.select(".mychart-captcha"),d,c,d)};s.initializeDOMSubtree=hb;s.checkIfFormIsValid=J;s.updateButtonAfterValidation=ub;s.addValidationError=Ab;s.resetValidationErrorForAnInput=rb;s.ValidationSettings=h;s.ValidationProblem=b;s.ValidationGroup=I;s.InputValidator=E;s.Handlebars={validationSettingsAttribute:ob,messageDisplay:wb,messageDisplayForAttribute:fb,disableIfInvalidAttribute:pb,validationGroupAttribute:qb,validationRequiredAttribute:nb};s.ResetReCaptcha=Db;$$WP.FormValidation=s;$afe.onDocumentReady(yb)})()