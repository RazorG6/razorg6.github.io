(function WP$Payments$CreditCardBrand$Definition(){var b=true,d=false,c=null,e=$$WP.Strings.getNamespace("Payments.Shared.CardSelection"),a=function WP$Payments$CreditCardBrand(g,c,f,d){var b=this;b.Id=g;if(!c){b.Name=a.DefaultName;b.ImageFile=makeStaticLink("/images/CreditCardGhost.png")}else{b.Name=e.getString(c);b.ImageFile=makeStaticLink("/images/3rdparty/"+c+".png")}b.AllowedLengths=f;b._isMatchingCardNumberCore=d;a.instances.push(b)};a.prototype={Id:c,Name:c,ImageFile:c,AllowedLengths:c,IsMatchingCardNumber:function WP$Payments$CreditCardBrand$IsMatchingCardNumber(a){var b=d;if($.isFunction(this._isMatchingCardNumberCore)){a=(a+"").replace(/\D/g,"");b=a.length>=13&&this._isMatchingCardNumberCore(a)}return b},_isMatchingCardNumberCore:c,IsCorrectLength:function WP$Payments$CreditCardBrand$IsMatchingCardNumber(c){for(var a=0;a<this.AllowedLengths.length;a++)if(this.AllowedLengths[a]===c)return b;return d}};a.DefaultName=e.getString("ghostCardAltText");a.instances=[];new a(1,"Visa",[13,16,19],function(a){return a.substring(0,1)==="4"});new a(2,"Mastercard",[16],function(c){var a=c.substring(0,2);if(a>=50&&a<=55)return b;a=c.substring(0,4);return a>=2221&&a<=2720?b:d});new a(3,"AmericanExpress",[15],function(b){var a=b.substring(0,2);return a==="34"||a==="37"});new a(4,"Discover",[16,17,18,19],function(c){var a=c.substring(0,2);if(a==="65")return b;a=c.substring(0,3);if(a>=644&&a<=649)return b;a=c.substring(0,4);if(a==="6011")return b;a=c.substring(0,6);return a>=622126&&a<=622925?b:d});new a(5,"DinersClub",[14],function(a){return parseInt(a.substring(0,3),10)>=300&&parseInt(a.substring(0,3),10)<=305?b:a.substring(0,2)==="36"?b:a.substring(0,2)==="38"?b:d});a.getCardBrandFromNumber=function(d){for(var b=0;b<a.instances.length;b++)if(a.instances[b].IsMatchingCardNumber(d))return a.instances[b];return c};a.getCardBrandFromId=function(c){for(var b=0;b<a.instances.length;b++)if(a.instances[b].Id===c)return a.instances[b];return new a(c)};a.getCheckImg=function WP$Payments$CreditCardBrand$getCheckImg(){return{Id:c,ImageFile:makeStaticLink("/images/payment_check.png"),IsMatchingCardNumber:c,Name:e.getString("checkAltText",this.__stringNS)}};a.extend($$WP.BaseObject,"WP$Payments$CreditCardBrand");$$WP.Payments=$$WP.Payments||{};$$WP.Payments.CreditCardBrand=a})()