/*! Copyright (c) Epic Systems Corporation 2016-2019 */
$$WPUtil.guaranteeExistence($$WP,"Community.Components");$$WPUtil.guaranteeExistence($$WP,"Community.ExternalLinking");$$WP.Community.Components.ExternalLinkingComponent=function WP$Community$Components$ExternalLinkingComponent(a){this.Components$TemplateComponent(a);this.addEventListener("click",this._clickEvent)};$$WP.Community.Components.ExternalLinkingComponent.prototype={Class:"externallinking externalorganizations",ToolbarButtons:null,template:$$WP.Templates.Community.ExternalLinking,Url:makeLink("Community/External/GetMyChartInactiveOrgs"),IsAlertsContext:false,IsVisitsContext:false,PreTextString:null,setData:function $$WP$Community$ExternalLinking$setData(a){var d=this,e,b,c;if(a&&a.InactiveCommunityList){if(d.IsVisitsContext)for(b=a.InactiveCommunityList.length-1;b>=0;b-=1)a.InactiveCommunityList[b].HasCrossOrgVideoVisit&&a.InactiveCommunityList.splice(b,1);if(a.InactiveCommunityList.length>0){$$WP.Strings.setDefaultNamespace("community.externallinking");c=d.PreTextString;if(typeof c==="object"&&$$WPUtil.IsNullOrEmpty(c.toString()))c=$$WP.Strings.getForTemplate("pretext");if(c&&!$$WPUtil.IsNullOrEmpty(c.string))a.PreText=c;for(b=0;b<a.InactiveCommunityList.length;b++){e=a.InactiveCommunityList[b].Organization;$$WP.Strings.setOrganization(e);e.externalLinkTitle=$$WP.Strings.getForTemplate("OrganizationLinkTitle");e.IndexValue=b;$$WP.Strings.clearOrganization()}$$WP.Strings.clearDefaultNamespace();d.Components$TemplateComponent$setData(a)}else{d.dispose();d.$container.remove()}}},_clickEvent:function $$WP$Community$ExternalLinking$_clickEvent(c){var d,a,e,b;if(c&&c.dataId==="externallink"){d=c.$target.closest(".externallink");e=d.safeAttr("data-index");b=this.Data.InactiveCommunityList[e];a=b.Organization;if(!b.IsSignupAllowed||a.IncompleteH2GSetup||$$WP.Utilities.UI.IsMobile||WP.DOM.Browser.isMobile)$$WP.CommunityUtilities.ShowSignUpNotAllowedMessage(a);else $$WP.CommunityUtilities.openDeepLink("",a,{},$$WP.CommunityUtilities.openDeepLinkType.InPopup,null,null,"",true);return false}}};$$WP.Community.Components.ExternalLinkingComponent.extend("Components.TemplateComponent");$$WP.Community.ExternalLinking.InstantiateExternalLinkingComponent=function WP$Community$InstantiateExternalLinkingComponent(a){$$WPUtil.instantiateComponent(["externallinking"],"ExternalLinkingSection",a)}